[tool:pytest]
# Pytest configuration for NeoZorK HLD Prediction project

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers - register all custom markers
markers =
    unit: Unit tests for individual functions
    integration: Integration tests for component interaction
    performance: Performance and stress tests
    cli: Command line interface tests
    data: Data processing and validation tests
    indicators: Technical indicator calculation tests
    export: Data export functionality tests
    plotting: Visualization and plotting tests
    docker: Docker-specific tests
    native_container: Native container-specific tests
    slow: marks tests as slow (deselect with '-m "not slow"')
    no_parallel: marks tests that should not run in parallel (due to shared resources)

# Output
addopts = 
    -v
    --tb=short
    --disable-warnings
    --color=yes
    -n auto
    --dist=worksteal
    --max-worker-restart=5
    --maxfail=10
    --timeout=30

# Filter warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning
    ignore::FutureWarning
    ignore::matplotlib.cbook.MatplotlibDeprecationWarning

# Environment-specific test filtering
# To run only non-Docker tests: pytest -m "not docker"
# To run only Docker tests: pytest -m "docker"
# To run only native container tests: pytest -m "native_container"

# Xdist configuration for better multiprocessing
xdist_auto_mode = auto
xdist_rsyncdir = src
xdist_rsyncignore = .git .pytest_cache __pycache__ *.pyc 