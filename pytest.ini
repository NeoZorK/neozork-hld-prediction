[tool:pytest]
# Pytest configuration for NeoZorK HLD Prediction project

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers - register all custom markers
markers =
    unit: Unit tests for individual functions
    integration: Integration tests for component interaction
    performance: Performance and stress tests
    cli: Command line interface tests
    data: Data processing and validation tests
    indicators: Technical indicator calculation tests
    export: Data export functionality tests
    plotting: Visualization and plotting tests
    docker: Docker-specific tests
    native_container: Native container-specific tests
    slow: marks tests as slow (deselect with '-m "not slow"')
    basic: marks tests as basic functionality tests
    flag_combinations: marks tests as flag combination tests
    error: marks tests as error case tests
    container_safe: marks tests as safe for container execution

# Output
addopts = 
    -v
    --tb=short
    --disable-warnings
    --color=yes
    -n auto
    --maxfail=10
    --durations=10

# Filter warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning
    ignore::FutureWarning
    ignore::RuntimeWarning
    ignore::matplotlib.cbook.MatplotlibDeprecationWarning

# Environment-specific test filtering
# To run only non-Docker tests: pytest -m "not docker"
# To run only Docker tests: pytest -m "docker"
# To run only native container tests: pytest -m "native_container"

# Memory and performance settings for Apple native container
# Reduce memory usage and prevent segmentation faults
minversion = "6.0" 