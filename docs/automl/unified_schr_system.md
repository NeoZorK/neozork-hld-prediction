# Unified SCHR Levels AutoML System
# –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ SCHR Levels AutoML

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

Unified SCHR System - —ç—Ç–æ –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è robust profitable ML-–º–æ–¥–µ–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ SCHR Levels –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤. –°–∏—Å—Ç–µ–º–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ª—É—á—à–∏–µ —á–∞—Å—Ç–∏ –∏–∑ `schr-levels-gluon.py` –∏ `src/automl/gluon/` –≤ –µ–¥–∏–Ω—É—é —Ä–∞–±–æ—á—É—é —Å–∏—Å—Ç–µ–º—É.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. **4 –∑–∞–¥–∞—á–∏ ML:**
- **pressure_vector_sign** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –∑–Ω–∞–∫–∞ PRESSURE_VECTOR (+ –∏–ª–∏ -)
- **price_direction_1period** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–µ–Ω—ã (–≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑/hold)
- **level_breakout** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–æ–±–∏—Ç–∏—è —É—Ä–æ–≤–Ω–µ–π (–ø—Ä–æ–±–∏—Ç–∏–µ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑/–º–µ–∂–¥—É —É—Ä–æ–≤–Ω—è–º–∏)
- **trading_signal** - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª (buy/sell/hold)

### 2. **Robust –≤–∞–ª–∏–¥–∞—Ü–∏—è:**
- **Walk Forward Analysis** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–∞—Ö
- **Monte Carlo Simulation** - –æ—Ü–µ–Ω–∫–∞ —Ä–æ–±–∞—Å—Ç–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏
- **Backtesting** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### 3. **Enhanced Features:**
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (SMA, RSI, MACD, ATR)
- SCHR Levels –ø—Ä–∏–∑–Ω–∞–∫–∏ (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —É—Ä–æ–≤–Ω–µ–π, –ø–æ–∑–∏—Ü–∏—è)
- Pressure features (–ª–∞–≥–∏, —Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ)
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (—á–∞—Å, –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, –º–µ—Å—è—Ü)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/automl/
‚îú‚îÄ‚îÄ unified_schr_system.py    # –û—Å–Ω–æ–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îî‚îÄ‚îÄ run_unified_schr.py       # CLI –¥–ª—è –∑–∞–ø—É—Å–∫–∞

docs/automl/
‚îî‚îÄ‚îÄ unified_schr_system.md    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
pip install autogluon pandas numpy scikit-learn rich matplotlib seaborn
```

### 2. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:
```bash
# –ê–Ω–∞–ª–∏–∑ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (BTCUSD MN1)
python run_unified_schr.py

# –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
python run_unified_schr.py -s EURUSD -t D1

# –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
python run_unified_schr.py -f data/GBPUSD.parquet

# –£–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ –¥–∞–Ω–Ω—ã–º
python run_unified_schr.py --data-path data/cache/csv_converted/
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç:

1. **–û–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏** –≤ –ø–∞–ø–∫–µ `models/unified_schr_production/`
2. **–î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç** —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏** (Walk Forward, Monte Carlo, Backtest)
4. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ –¥–µ–ø–ª–æ—é

## üéØ –î–ª—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ç–æ—Ä–≥–æ–≤—ã–º –±–æ—Ç–æ–º:

```python
from automl.unified_schr_system import UnifiedSCHRSystem

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—É—á–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É
system = UnifiedSCHRSystem()
system.load_models("models/unified_schr_production/")

# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
new_data = load_latest_data()
predictions = system.predict_for_trading(new_data, "trading_signal")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
for i, prediction in enumerate(predictions['predictions']):
    if prediction == 2:  # Strong buy
        execute_buy_order()
    elif prediction == 0:  # Strong sell
        execute_sell_order()
    # else: hold
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–¥–∞—á:
```python
task_configs = {
    'pressure_vector_sign': {
        'problem_type': 'binary',
        'eval_metric': 'roc_auc',
        'time_limit': 1800
    },
    'price_direction_1period': {
        'problem_type': 'multiclass', 
        'eval_metric': 'accuracy',
        'time_limit': 1800
    },
    'level_breakout': {
        'problem_type': 'multiclass',
        'eval_metric': 'accuracy', 
        'time_limit': 2400
    },
    'trading_signal': {
        'problem_type': 'multiclass',
        'eval_metric': 'accuracy',
        'time_limit': 2000
    }
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
- **Walk Forward**: 5 folds
- **Monte Carlo**: 100 –∏—Ç–µ—Ä–∞—Ü–∏–π
- **Backtesting**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- **Accuracy** - –æ–±—â–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- **Precision** - —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ –∫–ª–∞—Å—Å–∞–º
- **Recall** - –ø–æ–ª–Ω–æ—Ç–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º
- **F1-Score** - –≥–∞—Ä–º–æ–Ω–∏—á–µ—Å–∫–æ–µ —Å—Ä–µ–¥–Ω–µ–µ

### –¢–æ—Ä–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- **Total Return** - –æ–±—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
- **Sharpe Ratio** - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞
- **Max Drawdown** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞
- **Stability Score** - –æ—Ü–µ–Ω–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

## üöÄ –î–µ–ø–ª–æ–π

### 1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:**
```bash
# –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏
python run_unified_schr.py -s BTCUSD -t H1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ
# Accuracy > 0.6, Stability > 0.7, Sharpe > 1.0
```

### 2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º:**
```python
# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
system = UnifiedSCHRSystem()
system.load_models("models/unified_schr_production/")

# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
def get_trading_signal(data):
    result = system.predict_for_trading(data, "trading_signal")
    return result['predictions'][-1]  # –ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–≥–Ω–∞–ª
```

### 3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –ø—Ä–∏ –¥—Ä–∏—Ñ—Ç–µ
- –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ:
```python
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä–∏—Ñ—Ç –¥–∞–Ω–Ω—ã—Ö
drift_results = system.monitor_drift(new_data)

# –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
if drift_results['drift_detected']:
    system.retrain_models(new_data, target_column)
```

## üìù –õ–æ–≥–∏

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤:
- `logs/unified_schr_system.log` - –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥
- `logs/schr_levels_automl.log` - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ AutoGluon

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏:
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ multiple timeframes** - –∫–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ H1, H4, D1
2. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø–µ—Ä–µ–æ–±—É—á–∞–π—Ç–µ** - –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –¥–µ–º–æ** - –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–µ–Ω–µ–≥

### –î–ª—è —Ä–æ–±–∞—Å—Ç–Ω–æ—Å—Ç–∏:
1. **Walk Forward –≤–∞–ª–∏–¥–∞—Ü–∏—è** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤
2. **Monte Carlo** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
3. **Backtesting** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
4. **Risk management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ `data/cache/csv_converted/`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É AutoGluon
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ AutoGluon

---

**–°–æ–∑–¥–∞–Ω–æ:** NeoZork HLDP  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2024
