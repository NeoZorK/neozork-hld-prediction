# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞ - –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

**–ê–≤—Ç–æ—Ä:** NeoZorK (Shcherbyna Rostyslav)  
**–î–∞—Ç–∞:** 2025  
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** Ukraine, Zaporizhzhya  
**–í–µ—Ä—Å–∏—è:** 1.0  

## –ü–æ—á–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω

**–ü–æ—á–µ–º—É 90% —Ç–æ—Ä–≥–æ–≤—ã—Ö –±–æ—Ç–æ–≤ —Ç–µ—Ä—è—é—Ç –¥–µ–Ω—å–≥–∏ –±–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞?** –ü–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Å–ª–µ–ø—É—é, –Ω–µ –ø–æ–Ω–∏–º–∞—è, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –∏—Ö —Å–∏—Å—Ç–µ–º–æ–π. –≠—Ç–æ –∫–∞–∫ –≤–æ–∂–¥–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è –±–µ–∑ –ø—Ä–∏–±–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏.

### –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

- **–°–ª–µ–ø–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è**: –ù–µ –∑–Ω–∞—é—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –±–æ—Ç–æ–º
- **–ü–æ–∑–¥–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**: –£–∑–Ω–∞—é—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö, –∫–æ–≥–¥–∞ —É–∂–µ –ø–æ–∑–¥–Ω–æ
- **–ü–æ—Ç–µ—Ä—è –¥–µ–Ω–µ–≥**: –ë–æ—Ç –º–æ–∂–µ—Ç —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–∏–≤ —Ç—Ä–µ–Ω–¥–∞ —á–∞—Å–∞–º–∏
- **–°—Ç—Ä–µ—Å—Å –∏ —Ç—Ä–µ–≤–æ–≥–∞**: –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ –æ —Ä–∞–±–æ—Ç–µ –±–æ—Ç–∞

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

- **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å**: –ü–æ–Ω–∏–º–∞—é—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –±–æ—Ç–æ–º
- **–ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**: –†–µ—à–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã –¥–æ –ø–æ—Ç–µ—Ä–∏ –¥–µ–Ω–µ–≥
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –ü–æ—Å—Ç–æ—è–Ω–Ω–æ —É–ª—É—á—à–∞—é—Ç —Ä–∞–±–æ—Ç—É –±–æ—Ç–∞
- **–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ**: –£–≤–µ—Ä–µ–Ω—ã –≤ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã

## –í–≤–µ–¥–µ–Ω–∏–µ

**–ü–æ—á–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - —ç—Ç–æ –≥–ª–∞–∑–∞ –∏ —É—à–∏ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞?** –ü–æ—Ç–æ–º—É —á—Ç–æ –±–µ–∑ –Ω–µ–≥–æ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–æ–π, –∏ –Ω–µ –º–æ–∂–µ—Ç–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞ - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∞—Å–ø–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –∏ –ø—Ä–∏–±—ã–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø–æ—Å–≤—è—â–µ–Ω –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –≤–∞–º –±—ã—Å—Ç—Ä–æ –≤—ã—è–≤–ª—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é —Ä–∞–±–æ—Ç—É —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–ü–æ—á–µ–º—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞?** –ü–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–ø—É—Å–∫—É –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –∏ –ø–æ—Ç–µ—Ä–µ –¥–µ–Ω–µ–≥.

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```mermaid
graph TD
    A[–¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç] --> B[–°–±–æ—Ä—â–∏–∫ –º–µ—Ç—Ä–∏–∫]
    A --> C[–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ª–æ–≥–æ–≤]
    
    B --> D[–•—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ—Ç—Ä–∏–∫]
    C --> E[–•—Ä–∞–Ω–∏–ª–∏—â–µ –ª–æ–≥–æ–≤]
    
    D --> F[–î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞]
    E --> F
    
    F --> G[–°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤]
    G --> H[–ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π]
    
    H --> I[Email]
    H --> J[Telegram]
    H --> K[SMS]
    H --> L[Slack]
    
    B --> M[–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏]
    M --> N[–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è]
    
    N --> O[–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è]
    O --> P[–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞]
    O --> Q[–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π]
    O --> R[–ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏]
    
    F --> S[–í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏]
    S --> T[Prometheus]
    S --> U[Grafana]
    S --> V[Webhooks]
    
    style A fill:#e3f2fd
    style F fill:#c8e6c9
    style G fill:#fff3e0
    style O fill:#ffcdd2
```

### 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–ü–æ—á–µ–º—É –Ω—É–∂–Ω—ã –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞?** –ü–æ—Ç–æ–º—É —á—Ç–æ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ—à–∞–µ—Ç —Å–≤–æ—é –∑–∞–¥–∞—á—É, –∞ –≤–º–µ—Å—Ç–µ –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞.

```python
class TradingBotMonitoringSystem:
    """–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞ - –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ"""
    
    def __init__(self, config=None):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
        
        Args:
            config (dict): –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
                - metrics_interval: –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ (—Å–µ–∫—É–Ω–¥—ã)
                - alert_channels: –ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
                - dashboard_refresh: –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–∞
                - log_rotation: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤
                - health_check_interval: –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è
                - performance_tracking: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        """
        self.config = config or self._get_default_config()
        
        # –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ - —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –±–æ—Ç–æ–º
        self.metrics_collector = MetricsCollector(
            collection_interval=self.config['metrics_interval'],
            storage_config=self.config['metrics_storage']
        )
        
        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ - –∫–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –∏–¥–µ—Ç –Ω–µ —Ç–∞–∫
        self.alert_manager = AlertManager(
            channels=self.config['alert_channels'],
            rules_config=self.config['alert_rules']
        )
        
        # –î–∞—à–±–æ—Ä–¥ - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
        self.dashboard = MonitoringDashboard(
            refresh_interval=self.config['dashboard_refresh'],
            widgets_config=self.config['dashboard_widgets']
        )
        
        # –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ - –ø–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º
        self.log_analyzer = LogAnalyzer(
            log_patterns=self.config['log_patterns'],
            rotation_config=self.config['log_rotation']
        )
        
        # –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ - –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç
        self.performance_tracker = PerformanceTracker(
            tracking_config=self.config['performance_tracking'],
            benchmarks=self.config['performance_benchmarks']
        )
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è - –≤—Å–µ –ª–∏ –≤ –ø–æ—Ä—è–¥–∫–µ
        self.health_checker = HealthChecker(
            check_interval=self.config['health_check_interval'],
            health_rules=self.config['health_rules']
        )
    
    def _get_default_config(self):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
        return {
            'metrics_interval': 60,                    # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ (—Å–µ–∫—É–Ω–¥—ã)
            'alert_channels': ['email', 'telegram'],   # –ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            'dashboard_refresh': 30,                   # –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–∞ (—Å–µ–∫—É–Ω–¥—ã)
            'log_rotation': {                          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤
                'max_size': '100MB',                   # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
                'max_files': 10,                       # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
                'rotation_time': 'daily',              # –í—Ä–µ–º—è —Ä–æ—Ç–∞—Ü–∏–∏
                'compression': True,                   # –°–∂–∞—Ç–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
                'retention_days': 30                   # –•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ (–¥–Ω–∏)
            },
            'health_check_interval': 300,              # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è (—Å–µ–∫—É–Ω–¥—ã)
            'performance_tracking': {                  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                'enable_tracking': True,               # –í–∫–ª—é—á–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
                'tracking_interval': 60,               # –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è (—Å–µ–∫—É–Ω–¥—ã)
                'metrics_retention': 7,                # –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ (–¥–Ω–∏)
                'benchmark_comparison': True,          # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±–µ–Ω—á–º–∞—Ä–∫–∞–º–∏
                'optimization_suggestions': True       # –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
            },
            'metrics_storage': {                       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫
                'type': 'influxdb',                    # –¢–∏–ø —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
                'host': 'localhost',                   # –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
                'port': 8086,                          # –ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
                'database': 'trading_metrics',         # –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
                'username': 'admin',                   # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                'password': 'password',                # –ü–∞—Ä–æ–ª—å
                'retention_policy': '30d'              # –ü–æ–ª–∏—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è
            },
            'alert_rules': {                           # –ü—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–æ–≤
                'critical_thresholds': {               # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Ä–æ–≥–∏
                    'bot_down_time': 300,              # –í—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è –±–æ—Ç–∞ (—Å–µ–∫—É–Ω–¥—ã)
                    'max_drawdown': 0.1,               # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞
                    'error_rate': 0.05,                # –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫
                    'memory_usage': 0.9,               # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
                    'cpu_usage': 0.95                  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
                },
                'warning_thresholds': {                # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–µ –ø–æ—Ä–æ–≥–∏
                    'win_rate': 0.4,                   # –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
                    'model_drift': 0.1,                # –î—Ä–∏—Ñ—Ç –º–æ–¥–µ–ª–∏
                    'network_latency': 1000,           # –ó–∞–¥–µ—Ä–∂–∫–∞ —Å–µ—Ç–∏ (–º—Å)
                    'disk_usage': 0.8,                 # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
                    'api_response_time': 2000          # –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API (–º—Å)
                },
                'info_thresholds': {                   # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏
                    'daily_pnl': 1000,                 # –î–Ω–µ–≤–Ω–∞—è –ø—Ä–∏–±—ã–ª—å
                    'trades_count': 50,                # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫
                    'uptime_hours': 24                 # –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (—á–∞—Å—ã)
                }
            },
            'dashboard_widgets': {                     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–æ–≤ –¥–∞—à–±–æ—Ä–¥–∞
                'overview': {                          # –í–∏–¥–∂–µ—Ç –æ–±–∑–æ—Ä–∞
                    'enabled': True,                   # –í–∫–ª—é—á–µ–Ω
                    'refresh_interval': 30,            # –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Å–µ–∫—É–Ω–¥—ã)
                    'metrics': ['profit_loss', 'win_rate', 'active_positions', 'uptime']
                },
                'performance': {                       # –í–∏–¥–∂–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                    'enabled': True,
                    'refresh_interval': 60,
                    'charts': ['pnl_timeline', 'trades_distribution', 'drawdown_chart']
                },
                'risk_metrics': {                      # –í–∏–¥–∂–µ—Ç –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞
                    'enabled': True,
                    'refresh_interval': 60,
                    'metrics': ['max_drawdown', 'sharpe_ratio', 'var_95', 'current_exposure']
                },
                'system_health': {                     # –í–∏–¥–∂–µ—Ç –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
                    'enabled': True,
                    'refresh_interval': 30,
                    'metrics': ['cpu_usage', 'memory_usage', 'disk_usage', 'network_latency']
                },
                'model_metrics': {                     # –í–∏–¥–∂–µ—Ç –º–µ—Ç—Ä–∏–∫ –º–æ–¥–µ–ª–∏
                    'enabled': True,
                    'refresh_interval': 120,
                    'metrics': ['model_accuracy', 'model_drift', 'data_quality', 'prediction_confidence']
                },
                'market_conditions': {                 # –í–∏–¥–∂–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
                    'enabled': True,
                    'refresh_interval': 60,
                    'metrics': ['volatility', 'trend', 'volume', 'technical_indicators']
                }
            },
            'log_patterns': {                          # –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤
                'error_patterns': [                    # –ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ—à–∏–±–æ–∫
                    r'ERROR: (.+)',
                    r'EXCEPTION: (.+)',
                    r'CRITICAL: (.+)',
                    r'Failed to (.+)',
                    r'Connection error: (.+)',
                    r'API error: (.+)'
                ],
                'performance_patterns': [              # –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                    r'Slow operation: (.+) took (\d+)ms',
                    r'High memory usage: (\d+)MB',
                    r'CPU spike detected: (\d+)%',
                    r'Network timeout: (.+)',
                    r'Database slow query: (.+)'
                ],
                'trading_patterns': [                  # –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ç–æ—Ä–≥–æ–≤–ª–∏
                    r'Trade executed: (.+)',
                    r'Order placed: (.+)',
                    r'Position opened: (.+)',
                    r'Position closed: (.+)',
                    r'Stop loss triggered: (.+)',
                    r'Take profit triggered: (.+)'
                ]
            },
            'health_rules': {                          # –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è
                'bot_running': {                       # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
                    'enabled': True,
                    'max_downtime': 300,               # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è (—Å–µ–∫—É–Ω–¥—ã)
                    'check_interval': 60               # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–µ–∫—É–Ω–¥—ã)
                },
                'api_connectivity': {                  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API
                    'enabled': True,
                    'max_latency': 1000,               # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (–º—Å)
                    'max_error_rate': 0.05,            # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫
                    'check_interval': 30               # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–µ–∫—É–Ω–¥—ã)
                },
                'model_loaded': {                      # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏
                    'enabled': True,
                    'min_accuracy': 0.7,               # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
                    'check_interval': 120              # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–µ–∫—É–Ω–¥—ã)
                },
                'data_freshness': {                    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–µ–∂–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
                    'enabled': True,
                    'max_age': 300,                    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç –¥–∞–Ω–Ω—ã—Ö (—Å–µ–∫—É–Ω–¥—ã)
                    'check_interval': 60               # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–µ–∫—É–Ω–¥—ã)
                },
                'resource_usage': {                    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
                    'enabled': True,
                    'max_memory_usage': 0.9,           # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
                    'max_cpu_usage': 0.95,             # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
                    'max_disk_usage': 0.8,             # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
                    'check_interval': 60               # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–µ–∫—É–Ω–¥—ã)
                }
            },
            'performance_benchmarks': {                # –ë–µ–Ω—á–º–∞—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                'trading_benchmarks': {                # –¢–æ—Ä–≥–æ–≤—ã–µ –±–µ–Ω—á–º–∞—Ä–∫–∏
                    'min_win_rate': 0.5,               # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
                    'max_drawdown': 0.1,               # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞
                    'min_sharpe_ratio': 1.0,           # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞
                    'min_trades_per_day': 5            # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å
                },
                'system_benchmarks': {                 # –°–∏—Å—Ç–µ–º–Ω—ã–µ –±–µ–Ω—á–º–∞—Ä–∫–∏
                    'max_response_time': 1000,         # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ (–º—Å)
                    'max_error_rate': 0.01,            # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫
                    'min_uptime': 0.99,                # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
                    'max_memory_usage': 0.8            # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
                },
                'model_benchmarks': {                  # –ë–µ–Ω—á–º–∞—Ä–∫–∏ –º–æ–¥–µ–ª–∏
                    'min_accuracy': 0.8,               # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
                    'max_drift': 0.1,                  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –¥—Ä–∏—Ñ—Ç
                    'min_confidence': 0.7,             # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
                    'max_prediction_time': 100         # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è (–º—Å)
                }
            }
        }
    
    def start_monitoring(self):
        """–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"""
        
        try:
            # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
            self.metrics_collector.start()
            self.alert_manager.start()
            self.dashboard.start()
            self.log_analyzer.start()
            self.performance_tracker.start()
            self.health_checker.start()
            
            print("‚úÖ –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞–ø—É—â–µ–Ω–∞")
            return True
            
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: {e}")
            return False
    
    def stop_monitoring(self):
        """–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"""
        
        try:
            # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
            self.metrics_collector.stop()
            self.alert_manager.stop()
            self.dashboard.stop()
            self.log_analyzer.stop()
            self.performance_tracker.stop()
            self.health_checker.stop()
            
            print("‚èπÔ∏è –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")
            return True
            
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: {e}")
            return False
    
    def get_monitoring_status(self):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"""
        
        return {
            'metrics_collector': self.metrics_collector.is_running(),
            'alert_manager': self.alert_manager.is_running(),
            'dashboard': self.dashboard.is_running(),
            'log_analyzer': self.log_analyzer.is_running(),
            'performance_tracker': self.performance_tracker.is_running(),
            'health_checker': self.health_checker.is_running(),
            'overall_status': 'running' if all([
                self.metrics_collector.is_running(),
                self.alert_manager.is_running(),
                self.dashboard.is_running(),
                self.log_analyzer.is_running(),
                self.performance_tracker.is_running(),
                self.health_checker.is_running()
            ]) else 'stopped'
        }
```

### 2. –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫

### üìä –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫

```mermaid
graph TD
    A[–¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç] --> B{–¢–∏–ø –º–µ—Ç—Ä–∏–∫}
    
    B -->|–¢–æ—Ä–≥–æ–≤—ã–µ| C[–¢–æ—Ä–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏]
    B -->|ML –ú–æ–¥–µ–ª—å| D[–ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏]
    B -->|–†—ã–Ω–æ—á–Ω—ã–µ| E[–†—ã–Ω–æ—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏]
    B -->|–°–∏—Å—Ç–µ–º–Ω—ã–µ| F[–°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏]
    
    C --> C1[P&L]
    C --> C2[Win Rate]
    C --> C3[–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫]
    C --> C4[–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞]
    C --> C5[Sharpe Ratio]
    
    D --> D1[–¢–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏]
    D --> D2[–î—Ä–∏—Ñ—Ç –º–æ–¥–µ–ª–∏]
    D --> D3[–ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö]
    D --> D4[–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π]
    
    E --> E1[–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å]
    E --> E2[–¢—Ä–µ–Ω–¥ —Ä—ã–Ω–∫–∞]
    E --> E3[–û–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤]
    E --> E4[–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã]
    
    F --> F1[CPU Usage]
    F --> F2[Memory Usage]
    F --> F3[Network Latency]
    F --> F4[Error Rate]
    
    C1 --> G[–°–±–æ—Ä—â–∏–∫ –º–µ—Ç—Ä–∏–∫]
    C2 --> G
    C3 --> G
    C4 --> G
    C5 --> G
    D1 --> G
    D2 --> G
    D3 --> G
    D4 --> G
    E1 --> G
    E2 --> G
    E3 --> G
    E4 --> G
    F1 --> G
    F2 --> G
    F3 --> G
    F4 --> G
    
    G --> H[–•—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ—Ç—Ä–∏–∫]
    H --> I[–î–∞—à–±–æ—Ä–¥]
    H --> J[–ê–ª–µ—Ä—Ç—ã]
    H --> K[–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤]
    
    style A fill:#e3f2fd
    style G fill:#c8e6c9
    style H fill:#fff3e0
```

```python
class MetricsCollector:
    """–°–±–æ—Ä—â–∏–∫ –º–µ—Ç—Ä–∏–∫ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞"""
    
    def __init__(self, collection_interval=60, storage_config=None):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä—â–∏–∫–∞ –º–µ—Ç—Ä–∏–∫
        
        Args:
            collection_interval (int): –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ (—Å–µ–∫—É–Ω–¥—ã)
            storage_config (dict): –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –º–µ—Ç—Ä–∏–∫
                - type: –¢–∏–ø —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (influxdb, prometheus, file)
                - host: –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
                - port: –ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
                - database: –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
                - username: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                - password: –ü–∞—Ä–æ–ª—å
                - retention_policy: –ü–æ–ª–∏—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è
        """
        self.metrics = {}
        self.collection_interval = collection_interval
        self.storage_config = storage_config or self._get_default_storage_config()
        self.metrics_storage = MetricsStorage(self.storage_config)
        self.collection_thread = None
        self.is_running = False
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
        self.metrics_config = {
            'trading_metrics': {                         # –¢–æ—Ä–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
                'enabled': True,                         # –í–∫–ª—é—á–∏—Ç—å —Å–±–æ—Ä
                'collection_interval': 60,               # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ (—Å–µ–∫—É–Ω–¥—ã)
                'retention_days': 30,                    # –•—Ä–∞–Ω–µ–Ω–∏–µ (–¥–Ω–∏)
                'metrics': [                             # –°–æ–±–∏—Ä–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏
                    'total_trades', 'winning_trades', 'losing_trades',
                    'win_rate', 'profit_loss', 'max_drawdown', 'sharpe_ratio',
                    'trades_per_hour', 'active_positions', 'pending_orders',
                    'current_exposure', 'risk_utilization', 'var_95', 'expected_shortfall'
                ]
            },
            'model_metrics': {                           # –ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏
                'enabled': True,
                'collection_interval': 120,              # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ (—Å–µ–∫—É–Ω–¥—ã)
                'retention_days': 7,                     # –•—Ä–∞–Ω–µ–Ω–∏–µ (–¥–Ω–∏)
                'metrics': [
                    'model_accuracy', 'model_precision', 'model_recall', 'model_f1_score',
                    'model_auc', 'prediction_confidence', 'prediction_uncertainty',
                    'model_drift_detected', 'drift_score', 'data_quality_score'
                ]
            },
            'market_metrics': {                          # –†—ã–Ω–æ—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
                'enabled': True,
                'collection_interval': 60,               # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ (—Å–µ–∫—É–Ω–¥—ã)
                'retention_days': 14,                    # –•—Ä–∞–Ω–µ–Ω–∏–µ (–¥–Ω–∏)
                'metrics': [
                    'market_volatility', 'market_trend', 'market_regime',
                    'liquidity_score', 'price_change_1h', 'price_change_24h',
                    'volume_24h', 'rsi', 'macd', 'bollinger_position'
                ]
            },
            'system_metrics': {                          # –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
                'enabled': True,
                'collection_interval': 30,               # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ (—Å–µ–∫—É–Ω–¥—ã)
                'retention_days': 7,                     # –•—Ä–∞–Ω–µ–Ω–∏–µ (–¥–Ω–∏)
                'metrics': [
                    'cpu_usage', 'memory_usage', 'disk_usage', 'network_latency',
                    'api_calls_per_minute', 'error_rate', 'uptime'
                ]
            }
        }
    
    def _get_default_storage_config(self):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
        return {
            'type': 'influxdb',                          # –¢–∏–ø —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
            'host': 'localhost',                         # –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
            'port': 8086,                               # –ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
            'database': 'trading_metrics',               # –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
            'username': 'admin',                         # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            'password': 'password',                      # –ü–∞—Ä–æ–ª—å
            'retention_policy': '30d',                   # –ü–æ–ª–∏—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è
            'batch_size': 1000,                          # –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏
            'flush_interval': 5,                         # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±—Ä–æ—Å–∞ (—Å–µ–∫—É–Ω–¥—ã)
            'timeout': 30,                               # –¢–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (—Å–µ–∫—É–Ω–¥—ã)
            'retry_attempts': 3,                         # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–≤—Ç–æ—Ä–∞
            'retry_delay': 1                             # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ (—Å–µ–∫—É–Ω–¥—ã)
        }
    
    def start(self):
        """–ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫"""
        if not self.is_running:
            self.is_running = True
            self.collection_thread = threading.Thread(target=self._collection_loop)
            self.collection_thread.daemon = True
            self.collection_thread.start()
            print("‚úÖ –°–±–æ—Ä—â–∏–∫ –º–µ—Ç—Ä–∏–∫ –∑–∞–ø—É—â–µ–Ω")
    
    def stop(self):
        """–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫"""
        self.is_running = False
        if self.collection_thread:
            self.collection_thread.join()
        print("‚èπÔ∏è –°–±–æ—Ä—â–∏–∫ –º–µ—Ç—Ä–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
    
    def is_running(self):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–±–æ—Ç—ã"""
        return self.is_running
    
    def _collection_loop(self):
        """–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫"""
        while self.is_running:
            try:
                # –°–±–æ—Ä –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –º–µ—Ç—Ä–∏–∫
                if self.metrics_config['trading_metrics']['enabled']:
                    trading_metrics = self.collect_trading_metrics()
                    self._store_metrics('trading', trading_metrics)
                
                if self.metrics_config['model_metrics']['enabled']:
                    model_metrics = self.collect_model_metrics()
                    self._store_metrics('model', model_metrics)
                
                if self.metrics_config['market_metrics']['enabled']:
                    market_metrics = self.collect_market_metrics()
                    self._store_metrics('market', market_metrics)
                
                if self.metrics_config['system_metrics']['enabled']:
                    system_metrics = self.collect_system_metrics()
                    self._store_metrics('system', system_metrics)
                
                # –û–∂–∏–¥–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ü–∏–∫–ª–∞
                time.sleep(self.collection_interval)
                
            except Exception as e:
                print(f"‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫: {e}")
                time.sleep(5)  # –ö–æ—Ä–æ—Ç–∫–∞—è –ø–∞—É–∑–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ
    
    def collect_trading_metrics(self, bot_state=None):
        """–°–±–æ—Ä —Ç–æ—Ä–≥–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫"""
        
        # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–∞
        if bot_state is None:
            bot_state = self._get_bot_state()
        
        trading_metrics = {
            # –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–æ—Ä–≥–æ–≤–ª–∏
            'total_trades': bot_state.get('total_trades', 0),                    # –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫
            'winning_trades': bot_state.get('winning_trades', 0),                # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
            'losing_trades': bot_state.get('losing_trades', 0),                  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
            'win_rate': self.calculate_win_rate(bot_state),                      # –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
            'profit_loss': bot_state.get('profit_loss', 0),                      # –¢–µ–∫—É—â–∞—è –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫
            'max_drawdown': bot_state.get('max_drawdown', 0),                    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞
            'sharpe_ratio': self.calculate_sharpe_ratio(bot_state),              # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞
            'sortino_ratio': self.calculate_sortino_ratio(bot_state),            # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –°–æ—Ä—Ç–∏–Ω–æ
            'calmar_ratio': self.calculate_calmar_ratio(bot_state),              # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ö–∞–ª–º–∞—Ä–∞
            
            # –¢–æ—Ä–≥–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
            'trades_per_hour': self.calculate_trades_per_hour(bot_state),        # –°–¥–µ–ª–æ–∫ –≤ —á–∞—Å
            'trades_per_day': self.calculate_trades_per_day(bot_state),          # –°–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å
            'last_trade_time': bot_state.get('last_trade_time'),                 # –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–¥–µ–ª–∫–∏
            'active_positions': bot_state.get('active_positions', 0),            # –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
            'pending_orders': bot_state.get('pending_orders', 0),                # –û–∂–∏–¥–∞—é—â–∏–µ –æ—Ä–¥–µ—Ä–∞
            'position_size_avg': self.calculate_avg_position_size(bot_state),    # –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
            'position_duration_avg': self.calculate_avg_position_duration(bot_state), # –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏
            
            # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏
            'current_exposure': bot_state.get('current_exposure', 0),            # –¢–µ–∫—É—â–∞—è —ç–∫—Å–ø–æ–∑–∏—Ü–∏—è
            'max_exposure': bot_state.get('max_exposure', 0),                    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ç–∫—Å–ø–æ–∑–∏—Ü–∏—è
            'risk_utilization': self.calculate_risk_utilization(bot_state),      # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∏—Å–∫–∞
            'var_95': self.calculate_var_95(bot_state),                          # Value at Risk 95%
            'var_99': self.calculate_var_99(bot_state),                          # Value at Risk 99%
            'expected_shortfall': self.calculate_expected_shortfall(bot_state),  # Expected Shortfall
            'max_consecutive_losses': self.calculate_max_consecutive_losses(bot_state), # –ú–∞–∫—Å–∏–º—É–º –ø–æ—Ç–µ—Ä—å –ø–æ–¥—Ä—è–¥
            'max_consecutive_wins': self.calculate_max_consecutive_wins(bot_state),     # –ú–∞–∫—Å–∏–º—É–º –ø–æ–±–µ–¥ –ø–æ–¥—Ä—è–¥
            
            # –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
            'total_pnl': bot_state.get('total_pnl', 0),                          # –û–±—â–∞—è –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫
            'daily_pnl': self.calculate_daily_pnl(bot_state),                    # –î–Ω–µ–≤–Ω–∞—è –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫
            'weekly_pnl': self.calculate_weekly_pnl(bot_state),                  # –ù–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫
            'monthly_pnl': self.calculate_monthly_pnl(bot_state),                # –ú–µ—Å—è—á–Ω–∞—è –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫
            'profit_factor': self.calculate_profit_factor(bot_state),            # –ü—Ä–æ—Ñ–∏—Ç-—Ñ–∞–∫—Ç–æ—Ä
            'recovery_factor': self.calculate_recovery_factor(bot_state),        # –§–∞–∫—Ç–æ—Ä –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
            'expectancy': self.calculate_expectancy(bot_state),                  # –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ
            
            # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏
            'cpu_usage': bot_state.get('cpu_usage', 0),                          # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
            'memory_usage': bot_state.get('memory_usage', 0),                    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
            'disk_usage': bot_state.get('disk_usage', 0),                        # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
            'network_latency': bot_state.get('network_latency', 0),              # –ó–∞–¥–µ—Ä–∂–∫–∞ —Å–µ—Ç–∏
            'api_calls_per_minute': bot_state.get('api_calls_per_minute', 0),    # API –≤—ã–∑–æ–≤–æ–≤ –≤ –º–∏–Ω—É—Ç—É
            'error_rate': bot_state.get('error_rate', 0),                        # –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫
            'response_time_avg': self.calculate_avg_response_time(bot_state),    # –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
            'response_time_p95': self.calculate_p95_response_time(bot_state),    # 95-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
            
            # –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
            'timestamp': datetime.now().isoformat(),                             # –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
            'uptime': self.calculate_uptime(bot_state),                          # –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
            'last_activity': bot_state.get('last_activity'),                     # –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
            'collection_time': time.time()                                        # –í—Ä–µ–º—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
        }
        
        return trading_metrics
    
    def collect_model_metrics(self, model_state):
        """–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ ML-–º–æ–¥–µ–ª–∏"""
        
        model_metrics = {
            # –¢–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏
            'model_accuracy': model_state.get('accuracy', 0),
            'model_precision': model_state.get('precision', 0),
            'model_recall': model_state.get('recall', 0),
            'model_f1_score': model_state.get('f1_score', 0),
            'model_auc': model_state.get('auc', 0),
            
            # –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ
            'prediction_confidence': model_state.get('prediction_confidence', 0),
            'prediction_uncertainty': model_state.get('prediction_uncertainty', 0),
            'last_prediction_time': model_state.get('last_prediction_time'),
            'predictions_per_hour': model_state.get('predictions_per_hour', 0),
            
            # –î—Ä–∏—Ñ—Ç –º–æ–¥–µ–ª–∏
            'model_drift_detected': model_state.get('drift_detected', False),
            'drift_score': model_state.get('drift_score', 0),
            'last_retraining': model_state.get('last_retraining'),
            'retraining_frequency': model_state.get('retraining_frequency', 0),
            
            # –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
            'data_quality_score': model_state.get('data_quality_score', 0),
            'missing_data_rate': model_state.get('missing_data_rate', 0),
            'outlier_rate': model_state.get('outlier_rate', 0),
            'data_freshness': model_state.get('data_freshness', 0),
            
            # –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
            'timestamp': datetime.now().isoformat()
        }
        
        return model_metrics
    
    def collect_market_metrics(self, market_data):
        """–°–±–æ—Ä —Ä—ã–Ω–æ—á–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫"""
        
        market_metrics = {
            # –†—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
            'market_volatility': market_data.get('volatility', 0),
            'market_trend': market_data.get('trend', 'unknown'),
            'market_regime': market_data.get('regime', 'unknown'),
            'liquidity_score': market_data.get('liquidity_score', 0),
            
            # –¶–µ–Ω–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
            'price_change_1h': market_data.get('price_change_1h', 0),
            'price_change_24h': market_data.get('price_change_24h', 0),
            'volume_24h': market_data.get('volume_24h', 0),
            'volume_change_24h': market_data.get('volume_change_24h', 0),
            
            # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
            'rsi': market_data.get('rsi', 50),
            'macd': market_data.get('macd', 0),
            'bollinger_position': market_data.get('bollinger_position', 0.5),
            'support_resistance_strength': market_data.get('support_resistance_strength', 0),
            
            # –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
            'timestamp': datetime.now().isoformat()
        }
        
        return market_metrics
```

### 3. –°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤

### üö® –°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```mermaid
graph TD
    A[–ú–µ—Ç—Ä–∏–∫–∏] --> B{–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π}
    
    B -->|–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ| C[–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã]
    B -->|–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è| D[–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è]
    B -->|–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ| E[–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ]
    
    C --> C1[–ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω]
    C --> C2[–í—ã—Å–æ–∫–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ > 10%]
    C --> C3[–û—à–∏–±–∫–∏ API > 5%]
    
    D --> D1[–ù–∏–∑–∫–∏–π Win Rate < 40%]
    D --> D2[–î—Ä–∏—Ñ—Ç –º–æ–¥–µ–ª–∏]
    D --> D3[–í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ > 1000ms]
    
    E --> E1[–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç]
    E --> E2[–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π]
    E --> E3[–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã]
    
    C1 --> F[–ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞]
    C2 --> F
    C3 --> F
    D1 --> G[–û—Ç–ø—Ä–∞–≤–∫–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π]
    D2 --> G
    D3 --> G
    E1 --> H[–ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞]
    E2 --> H
    E3 --> H
    
    F --> I[–ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π]
    G --> I
    H --> I
    
    I --> J[Email]
    I --> K[SMS]
    I --> L[Telegram]
    I --> M[Slack]
    
    J --> N[–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä]
    K --> N
    L --> N
    M --> N
    
    N --> O{–û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω?}
    O -->|–î–∞| P[–ê–ª–µ—Ä—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω]
    O -->|–ù–µ—Ç| Q[–≠—Å–∫–∞–ª–∞—Ü–∏—è]
    
    Q --> R[–ú–µ–Ω–µ–¥–∂–µ—Ä]
    R --> S[–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ª–∏–¥–µ—Ä]
    S --> T[–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç]
    
    style C fill:#ffcdd2
    style D fill:#fff3e0
    style E fill:#e8f5e8
    style F fill:#ff5252
    style G fill:#ff9800
    style H fill:#4caf50
```

```python
class AlertManager:
    """–ú–µ–Ω–µ–¥–∂–µ—Ä –∞–ª–µ—Ä—Ç–æ–≤"""
    
    def __init__(self, channels=None, rules_config=None):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∞–ª–µ—Ä—Ç–æ–≤
        
        Args:
            channels (list): –°–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            rules_config (dict): –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª –∞–ª–µ—Ä—Ç–æ–≤
                - critical_thresholds: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Ä–æ–≥–∏
                - warning_thresholds: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–µ –ø–æ—Ä–æ–≥–∏
                - info_thresholds: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏
                - escalation_rules: –ü—Ä–∞–≤–∏–ª–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏
                - notification_templates: –®–∞–±–ª–æ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        """
        self.channels = channels or ['email', 'telegram']
        self.rules_config = rules_config or self._get_default_rules_config()
        self.alert_rules = {}
        self.alert_channels = {}
        self.alert_history = []
        self.alert_cooldown = {}
        self.escalation_queue = []
        self.notification_templates = {}
        
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        self._setup_alert_channels()
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª –∞–ª–µ—Ä—Ç–æ–≤
        self.setup_alert_rules()
    
    def _get_default_rules_config(self):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
        return {
            'critical_thresholds': {                     # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Ä–æ–≥–∏
                'bot_down_time': 300,                    # –í—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è –±–æ—Ç–∞ (—Å–µ–∫—É–Ω–¥—ã)
                'max_drawdown': 0.1,                     # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞
                'error_rate': 0.05,                      # –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫
                'memory_usage': 0.9,                     # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
                'cpu_usage': 0.95,                       # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
                'api_response_time': 5000,               # –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API (–º—Å)
                'data_freshness': 600,                   # –°–≤–µ–∂–µ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (—Å–µ–∫—É–Ω–¥—ã)
                'model_accuracy': 0.5,                   # –¢–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏
                'network_latency': 2000,                 # –ó–∞–¥–µ—Ä–∂–∫–∞ —Å–µ—Ç–∏ (–º—Å)
                'disk_usage': 0.95                       # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
            },
            'warning_thresholds': {                      # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–µ –ø–æ—Ä–æ–≥–∏
                'win_rate': 0.4,                         # –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
                'model_drift': 0.1,                      # –î—Ä–∏—Ñ—Ç –º–æ–¥–µ–ª–∏
                'network_latency': 1000,                 # –ó–∞–¥–µ—Ä–∂–∫–∞ —Å–µ—Ç–∏ (–º—Å)
                'disk_usage': 0.8,                       # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
                'api_response_time': 2000,               # –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API (–º—Å)
                'memory_usage': 0.8,                     # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
                'cpu_usage': 0.8,                        # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
                'trades_per_hour': 0.1,                  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –≤ —á–∞—Å
                'prediction_confidence': 0.6,            # –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
                'data_quality_score': 0.7                # –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
            },
            'info_thresholds': {                         # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏
                'daily_pnl': 1000,                       # –î–Ω–µ–≤–Ω–∞—è –ø—Ä–∏–±—ã–ª—å
                'trades_count': 50,                      # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫
                'uptime_hours': 24,                      # –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (—á–∞—Å—ã)
                'weekly_pnl': 5000,                      # –ù–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å
                'monthly_pnl': 20000,                    # –ú–µ—Å—è—á–Ω–∞—è –ø—Ä–∏–±—ã–ª—å
                'sharpe_ratio': 2.0,                     # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞
                'max_consecutive_wins': 10,              # –ú–∞–∫—Å–∏–º—É–º –ø–æ–±–µ–¥ –ø–æ–¥—Ä—è–¥
                'recovery_factor': 2.0                   # –§–∞–∫—Ç–æ—Ä –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
            },
            'escalation_rules': {                        # –ü—Ä–∞–≤–∏–ª–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏
                'no_response': {                         # –ù–µ—Ç –æ—Ç–≤–µ—Ç–∞
                    'condition': 'no_response_for_30_minutes',
                    'action': 'escalate_to_manager',
                    'channels': ['phone', 'sms'],
                    'escalation_time': 1800              # –í—Ä–µ–º—è —ç—Å–∫–∞–ª–∞—Ü–∏–∏ (—Å–µ–∫—É–Ω–¥—ã)
                },
                'repeated_alerts': {                     # –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∞–ª–µ—Ä—Ç—ã
                    'condition': 'same_alert_3_times_in_1_hour',
                    'action': 'escalate_to_technical_lead',
                    'channels': ['phone', 'email'],
                    'escalation_time': 3600
                },
                'system_down': {                         # –°–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
                    'condition': 'bot_down_for_10_minutes',
                    'action': 'escalate_to_emergency_contact',
                    'channels': ['phone', 'sms', 'email'],
                    'escalation_time': 600
                },
                'critical_loss': {                       # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Ç–µ—Ä–∏
                    'condition': 'drawdown_exceeds_15_percent',
                    'action': 'escalate_to_risk_manager',
                    'channels': ['phone', 'sms', 'email'],
                    'escalation_time': 300
                }
            },
            'notification_templates': {                  # –®–∞–±–ª–æ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
                'critical': {                            # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                    'subject': 'üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê - –¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç',
                    'template': '''
üö® *–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê*
–¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç: {bot_name}
–í—Ä–µ–º—è: {timestamp}
–ü—Ä–æ–±–ª–µ–º–∞: {issue_description}

–ú–µ—Ç—Ä–∏–∫–∏:
- P&L: {profit_loss:.2f}
- Win Rate: {win_rate:.2%}
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏: {active_positions}
- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: {uptime}

–î–µ–π—Å—Ç–≤–∏—è:
{recommended_actions}

–°—Ä–æ—á–Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ!
                    ''',
                    'priority': 'high',
                    'channels': ['email', 'sms', 'telegram', 'slack']
                },
                'warning': {                             # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
                    'subject': '‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï - –¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç',
                    'template': '''
‚ö†Ô∏è *–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï*
–¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç: {bot_name}
–í—Ä–µ–º—è: {timestamp}
–ü—Ä–æ–±–ª–µ–º–∞: {issue_description}

–ú–µ—Ç—Ä–∏–∫–∏:
- P&L: {profit_loss:.2f}
- Win Rate: {win_rate:.2%}
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏: {active_positions}

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
{recommended_actions}

–¢—Ä–µ–±—É–µ—Ç—Å—è –≤–Ω–∏–º–∞–Ω–∏–µ –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞.
                    ''',
                    'priority': 'medium',
                    'channels': ['email', 'telegram']
                },
                'info': {                                # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ
                    'subject': 'üìä –û–¢–ß–ï–¢ - –¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç',
                    'template': '''
üìä *–û–¢–ß–ï–¢*
–¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç: {bot_name}
–í—Ä–µ–º—è: {timestamp}
–ü–µ—Ä–∏–æ–¥: {report_period}

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- P&L: {profit_loss:.2f}
- –°–¥–µ–ª–∫–∏: {total_trades}
- Win Rate: {win_rate:.2%}
- Sharpe Ratio: {sharpe_ratio:.2f}

–°—Ç–∞—Ç—É—Å: {status}
                    ''',
                    'priority': 'low',
                    'channels': ['telegram']
                }
            },
            'channel_configs': {                         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–∞–Ω–∞–ª–æ–≤
                'email': {                               # Email
                    'smtp_server': 'smtp.gmail.com',
                    'smtp_port': 587,
                    'username': 'bot@example.com',
                    'password': 'password',
                    'from_email': 'bot@example.com',
                    'to_emails': ['admin@example.com', 'manager@example.com'],
                    'use_tls': True,
                    'timeout': 30
                },
                'telegram': {                            # Telegram
                    'bot_token': 'YOUR_BOT_TOKEN',
                    'chat_ids': ['-1001234567890', '@channel_name'],
                    'parse_mode': 'Markdown',
                    'timeout': 30,
                    'retry_attempts': 3
                },
                'sms': {                                 # SMS
                    'provider': 'twilio',
                    'account_sid': 'YOUR_ACCOUNT_SID',
                    'auth_token': 'YOUR_AUTH_TOKEN',
                    'from_number': '+1234567890',
                    'to_numbers': ['+1234567890', '+0987654321'],
                    'timeout': 30
                },
                'slack': {                               # Slack
                    'webhook_url': 'https://hooks.slack.com/services/...',
                    'channel': '#trading-alerts',
                    'username': 'Trading Bot',
                    'icon_emoji': ':robot_face:',
                    'timeout': 30
                }
            }
        }
    
    def _setup_alert_channels(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"""
        
        for channel in self.channels:
            if channel == 'email':
                self.alert_channels['email'] = EmailNotifier(
                    config=self.rules_config['channel_configs']['email']
                )
            elif channel == 'telegram':
                self.alert_channels['telegram'] = TelegramNotifier(
                    config=self.rules_config['channel_configs']['telegram']
                )
            elif channel == 'sms':
                self.alert_channels['sms'] = SMSNotifier(
                    config=self.rules_config['channel_configs']['sms']
                )
            elif channel == 'slack':
                self.alert_channels['slack'] = SlackNotifier(
                    config=self.rules_config['channel_configs']['slack']
                )
    
    def setup_alert_rules(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª –∞–ª–µ—Ä—Ç–æ–≤"""
        
        self.alert_rules = {
            # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã
            'critical': {
                'bot_down': {
                    'condition': lambda metrics: metrics.get('uptime', 0) == 0,
                    'message_template': 'bot_down',
                    'channels': ['email', 'sms', 'telegram', 'slack'],
                    'cooldown': 300,  # 5 –º–∏–Ω—É—Ç
                    'escalation_time': 600,  # 10 –º–∏–Ω—É—Ç
                    'auto_actions': ['restart_bot', 'close_positions'],
                    'priority': 'critical'
                },
                'high_drawdown': {
                    'condition': lambda metrics: metrics.get('max_drawdown', 0) > self.rules_config['critical_thresholds']['max_drawdown'],
                    'message_template': 'high_drawdown',
                    'channels': ['email', 'sms', 'telegram'],
                    'cooldown': 600,  # 10 –º–∏–Ω—É—Ç
                    'escalation_time': 1200,  # 20 –º–∏–Ω—É—Ç
                    'auto_actions': ['reduce_position_sizes', 'close_risky_positions'],
                    'priority': 'critical'
                },
                'api_error_rate': {
                    'condition': lambda metrics: metrics.get('error_rate', 0) > self.rules_config['critical_thresholds']['error_rate'],
                    'message_template': 'api_error_rate',
                    'channels': ['email', 'telegram'],
                    'cooldown': 300,  # 5 –º–∏–Ω—É—Ç
                    'escalation_time': 900,  # 15 –º–∏–Ω—É—Ç
                    'auto_actions': ['switch_api_endpoint', 'retry_connection'],
                    'priority': 'critical'
                },
                'memory_usage': {
                    'condition': lambda metrics: metrics.get('memory_usage', 0) > self.rules_config['critical_thresholds']['memory_usage'],
                    'message_template': 'high_memory_usage',
                    'channels': ['email', 'telegram'],
                    'cooldown': 300,
                    'escalation_time': 600,
                    'auto_actions': ['restart_bot', 'clear_cache'],
                    'priority': 'critical'
                },
                'cpu_usage': {
                    'condition': lambda metrics: metrics.get('cpu_usage', 0) > self.rules_config['critical_thresholds']['cpu_usage'],
                    'message_template': 'high_cpu_usage',
                    'channels': ['email', 'telegram'],
                    'cooldown': 300,
                    'escalation_time': 600,
                    'auto_actions': ['restart_bot', 'reduce_processing'],
                    'priority': 'critical'
                }
            },
            
            # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
            'warning': {
                'low_win_rate': {
                    'condition': lambda metrics: metrics.get('win_rate', 0) < self.rules_config['warning_thresholds']['win_rate'],
                    'message_template': 'low_win_rate',
                    'channels': ['email', 'telegram'],
                    'cooldown': 1800,  # 30 –º–∏–Ω—É—Ç
                    'escalation_time': 3600,  # 1 —á–∞—Å
                    'auto_actions': ['analyze_losing_trades', 'adjust_strategy'],
                    'priority': 'warning'
                },
                'model_drift': {
                    'condition': lambda metrics: metrics.get('model_drift_detected', False),
                    'message_template': 'model_drift',
                    'channels': ['email', 'telegram'],
                    'cooldown': 3600,  # 1 —á–∞—Å
                    'escalation_time': 7200,  # 2 —á–∞—Å–∞
                    'auto_actions': ['retrain_model', 'adjust_parameters'],
                    'priority': 'warning'
                },
                'high_latency': {
                    'condition': lambda metrics: metrics.get('network_latency', 0) > self.rules_config['warning_thresholds']['network_latency'],
                    'message_template': 'high_latency',
                    'channels': ['telegram'],
                    'cooldown': 900,  # 15 –º–∏–Ω—É—Ç
                    'escalation_time': 1800,  # 30 –º–∏–Ω—É—Ç
                    'auto_actions': ['check_network', 'optimize_connections'],
                    'priority': 'warning'
                },
                'low_trading_activity': {
                    'condition': lambda metrics: metrics.get('trades_per_hour', 0) < self.rules_config['warning_thresholds']['trades_per_hour'],
                    'message_template': 'low_trading_activity',
                    'channels': ['telegram'],
                    'cooldown': 3600,  # 1 —á–∞—Å
                    'escalation_time': 7200,  # 2 —á–∞—Å–∞
                    'auto_actions': ['check_market_conditions', 'review_strategy'],
                    'priority': 'warning'
                }
            },
            
            # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ
            'info': {
                'daily_summary': {
                    'condition': lambda metrics: self.is_daily_summary_time(),
                    'message_template': 'daily_summary',
                    'channels': ['email', 'telegram'],
                    'cooldown': 86400,  # 24 —á–∞—Å–∞
                    'escalation_time': 0,
                    'auto_actions': ['generate_report'],
                    'priority': 'info'
                },
                'milestone_reached': {
                    'condition': lambda metrics: self.is_milestone_reached(metrics),
                    'message_template': 'milestone_reached',
                    'channels': ['telegram'],
                    'cooldown': 3600,  # 1 —á–∞—Å
                    'escalation_time': 0,
                    'auto_actions': ['log_achievement'],
                    'priority': 'info'
                },
                'weekly_summary': {
                    'condition': lambda metrics: self.is_weekly_summary_time(),
                    'message_template': 'weekly_summary',
                    'channels': ['email', 'telegram'],
                    'cooldown': 604800,  # 7 –¥–Ω–µ–π
                    'escalation_time': 0,
                    'auto_actions': ['generate_weekly_report'],
                    'priority': 'info'
                }
            }
        }
    
    def check_alerts(self, metrics):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤"""
        
        for severity, rules in self.alert_rules.items():
            for rule_name, rule in rules.items():
                try:
                    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è
                    if rule['condition'](metrics):
                        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞
                        if self.is_cooldown_active(rule_name):
                            continue
                        
                        # –û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞
                        self.send_alert(rule_name, rule, metrics)
                        
                        # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞
                        self.set_cooldown(rule_name, rule['cooldown'])
                        
                except Exception as e:
                    print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∞–ª–µ—Ä—Ç–∞ {rule_name}: {e}")
    
    def send_alert(self, rule_name, rule, metrics):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞"""
        
        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        message = rule['message'].format(**metrics)
        
        # –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–∞–Ω–∞–ª–∞–º
        for channel in rule['channels']:
            try:
                self.send_to_channel(channel, message, metrics)
            except Exception as e:
                print(f"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ {channel}: {e}")
        
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
        self.alert_history.append({
            'timestamp': datetime.now().isoformat(),
            'rule': rule_name,
            'message': message,
            'metrics': metrics
        })
    
    def send_to_channel(self, channel, message, metrics):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–∞–Ω–∞–ª"""
        
        if channel == 'email':
            self.send_email_alert(message, metrics)
        elif channel == 'sms':
            self.send_sms_alert(message, metrics)
        elif channel == 'telegram':
            self.send_telegram_alert(message, metrics)
        elif channel == 'slack':
            self.send_slack_alert(message, metrics)
    
    def send_telegram_alert(self, message, metrics):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞ –≤ Telegram"""
        
        import requests
        
        bot_token = os.getenv('TELEGRAM_BOT_TOKEN')
        chat_id = os.getenv('TELEGRAM_CHAT_ID')
        
        if not bot_token or not chat_id:
            return
        
        url = f"https://api.telegram.org/bot{bot_token}/sendMessage"
        
        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è Telegram
        formatted_message = f"ü§ñ *–¢–æ—Ä–≥–æ–≤—ã–π –ë–æ—Ç*\n\n{message}\n\n"
        formatted_message += f"‚è∞ –í—Ä–µ–º—è: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n"
        formatted_message += f"üìä P&L: {metrics.get('profit_loss', 0):.2f}\n"
        formatted_message += f"üìà –°–¥–µ–ª–∫–∏: {metrics.get('total_trades', 0)}\n"
        formatted_message += f"üéØ Win Rate: {metrics.get('win_rate', 0):.2%}"
        
        payload = {
            'chat_id': chat_id,
            'text': formatted_message,
            'parse_mode': 'Markdown'
        }
        
        response = requests.post(url, json=payload)
        return response.status_code == 200
```

### 4. –î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞—à–±–æ—Ä–¥–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```mermaid
graph TD
    A[–î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞] --> B[–û–±—â–∏–π –æ–±–∑–æ—Ä]
    A --> C[–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å]
    A --> D[–¢–æ—Ä–≥–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å]
    A --> E[–ú–µ—Ç—Ä–∏–∫–∏ —Ä–∏—Å–∫–∞]
    A --> F[–ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã]
    A --> G[–ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏]
    A --> H[–†—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è]
    
    B --> B1[P&L]
    B --> B2[Win Rate]
    B --> B3[–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏]
    B --> B4[–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã]
    B --> B5[–°—Ç–∞—Ç—É—Å]
    
    C --> C1[–ì—Ä–∞—Ñ–∏–∫ P&L]
    C --> C2[–°–¥–µ–ª–∫–∏ –ø–æ –¥–Ω—è–º]
    C --> C3[–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫]
    C --> C4[–¢—Ä–µ–Ω–¥—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏]
    
    D --> D1[–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫]
    D --> D2[–ß–∞—Å—Ç–æ—Ç–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏]
    D --> D3[–í—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π]
    D --> D4[–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ —á–∞—Å–∞–º]
    
    E --> E1[–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞]
    E --> E2[Sharpe Ratio]
    E --> E3[VaR 95%]
    E --> E4[–¢–µ–∫—É—â–∞—è —ç–∫—Å–ø–æ–∑–∏—Ü–∏—è]
    E --> E5[–ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ—Å–∞–¥–∫–∏]
    
    F --> F1[CPU Usage]
    F --> F2[Memory Usage]
    F --> F3[Disk Usage]
    F --> F4[Network Latency]
    F --> F5[Error Rate]
    F --> F6[Gauge —Ä–µ—Å—É—Ä—Å–æ–≤]
    
    G --> G1[–¢–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏]
    G --> G2[–î—Ä–∏—Ñ—Ç –º–æ–¥–µ–ª–∏]
    G --> G3[–ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö]
    G --> G4[–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π]
    
    H --> H1[–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å]
    H --> H2[–¢—Ä–µ–Ω–¥ —Ä—ã–Ω–∫–∞]
    H --> H3[–û–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤]
    H --> H4[–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã]
    
    style A fill:#e3f2fd
    style B fill:#c8e6c9
    style C fill:#fff3e0
    style D fill:#e8f5e8
    style E fill:#ffcdd2
    style F fill:#f3e5f5
    style G fill:#e0f2f1
    style H fill:#fce4ec
```

```python
class MonitoringDashboard:
    """–î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"""
    
    def __init__(self, refresh_interval=30, widgets_config=None):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—à–±–æ—Ä–¥–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
        
        Args:
            refresh_interval (int): –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–∞ (—Å–µ–∫—É–Ω–¥—ã)
            widgets_config (dict): –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∏–¥–∂–µ—Ç–æ–≤ –¥–∞—à–±–æ—Ä–¥–∞
                - overview: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–∞ –æ–±–∑–æ—Ä–∞
                - performance: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                - trading_activity: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–∞ —Ç–æ—Ä–≥–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                - risk_metrics: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞
                - system_health: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
                - model_metrics: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫ –º–æ–¥–µ–ª–∏
                - market_conditions: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–∞ —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
        """
        self.refresh_interval = refresh_interval
        self.widgets_config = widgets_config or self._get_default_widgets_config()
        self.dashboard_data = {}
        self.charts = {}
        self.widgets = {}
        self.refresh_thread = None
        self.is_running = False
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞
        self.dashboard_config = {
            'theme': 'dark',                             # –¢–µ–º–∞ –¥–∞—à–±–æ—Ä–¥–∞ (dark/light)
            'layout': 'grid',                            # –ú–∞–∫–µ—Ç (grid/list)
            'auto_refresh': True,                        # –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            'refresh_interval': refresh_interval,        # –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Å–µ–∫—É–Ω–¥—ã)
            'data_retention': 7,                         # –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–¥–Ω–∏)
            'chart_types': {                             # –¢–∏–ø—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤
                'line': {'color': '#3498db', 'width': 2},    # –õ–∏–Ω–µ–π–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
                'bar': {'color': '#e74c3c', 'width': 1},     # –°—Ç–æ–ª–±—á–∞—Ç—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
                'pie': {'colors': ['#3498db', '#e74c3c', '#f39c12', '#2ecc71']}, # –ö—Ä—É–≥–æ–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
                'gauge': {'min': 0, 'max': 100, 'thresholds': [50, 80, 90]}      # –î–∞—Ç—á–∏–∫–∏
            },
            'alert_colors': {                            # –¶–≤–µ—Ç–∞ –∞–ª–µ—Ä—Ç–æ–≤
                'critical': '#e74c3c',                   # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (–∫—Ä–∞—Å–Ω—ã–π)
                'warning': '#f39c12',                    # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
                'info': '#3498db',                       # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Å–∏–Ω–∏–π)
                'success': '#2ecc71'                     # –£—Å–ø–µ—Ö (–∑–µ–ª–µ–Ω—ã–π)
            },
            'widget_sizes': {                            # –†–∞–∑–º–µ—Ä—ã –≤–∏–¥–∂–µ—Ç–æ–≤
                'small': {'width': 1, 'height': 1},      # –ú–∞–ª–µ–Ω—å–∫–∏–π
                'medium': {'width': 2, 'height': 1},     # –°—Ä–µ–¥–Ω–∏–π
                'large': {'width': 2, 'height': 2},      # –ë–æ–ª—å—à–æ–π
                'xlarge': {'width': 3, 'height': 2}      # –û—á–µ–Ω—å –±–æ–ª—å—à–æ–π
            }
        }
    
    def _get_default_widgets_config(self):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–∏–¥–∂–µ—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
        return {
            'overview': {                                # –í–∏–¥–∂–µ—Ç –æ–±–∑–æ—Ä–∞
                'enabled': True,                         # –í–∫–ª—é—á–µ–Ω
                'refresh_interval': 30,                  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Å–µ–∫—É–Ω–¥—ã)
                'size': 'large',                         # –†–∞–∑–º–µ—Ä –≤–∏–¥–∂–µ—Ç–∞
                'position': {'x': 0, 'y': 0},           # –ü–æ–∑–∏—Ü–∏—è –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ
                'metrics': [                             # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏
                    'profit_loss', 'win_rate', 'active_positions', 'uptime',
                    'total_trades', 'sharpe_ratio', 'max_drawdown', 'error_rate'
                ],
                'formatting': {                          # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
                    'profit_loss': {'type': 'currency', 'symbol': '$', 'decimals': 2},
                    'win_rate': {'type': 'percentage', 'decimals': 1},
                    'uptime': {'type': 'duration', 'format': 'hours'},
                    'total_trades': {'type': 'number', 'separator': ','}
                },
                'alerts': {                              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–ª–µ—Ä—Ç–æ–≤
                    'profit_loss': {'threshold': -1000, 'color': 'critical'},
                    'win_rate': {'threshold': 0.4, 'color': 'warning'},
                    'error_rate': {'threshold': 0.05, 'color': 'critical'}
                }
            },
            'performance': {                             # –í–∏–¥–∂–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                'enabled': True,
                'refresh_interval': 60,
                'size': 'xlarge',
                'position': {'x': 0, 'y': 1},
                'charts': [                              # –ì—Ä–∞—Ñ–∏–∫–∏
                    {
                        'type': 'line',
                        'title': 'P&L –≤–æ –≤—Ä–µ–º–µ–Ω–∏',
                        'data_source': 'profit_loss_history',
                        'x_axis': 'timestamp',
                        'y_axis': 'profit_loss',
                        'color': '#3498db',
                        'fill': True,
                        'smooth': True
                    },
                    {
                        'type': 'bar',
                        'title': '–°–¥–µ–ª–∫–∏ –ø–æ –¥–Ω—è–º',
                        'data_source': 'trades_by_day',
                        'x_axis': 'date',
                        'y_axis': 'trade_count',
                        'color': '#e74c3c',
                        'stacked': False
                    },
                    {
                        'type': 'pie',
                        'title': '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫',
                        'data_source': 'trade_distribution',
                        'labels': ['–í—ã–∏–≥—Ä—ã—à–Ω—ã–µ', '–ü—Ä–æ–∏–≥—Ä—ã—à–Ω—ã–µ'],
                        'values': ['winning_trades', 'losing_trades'],
                        'colors': ['#2ecc71', '#e74c3c']
                    }
                ],
                'time_range': {                          # –í—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω
                    'default': '24h',                    # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
                    'options': ['1h', '6h', '24h', '7d', '30d'],
                    'auto_refresh': True
                }
            },
            'trading_activity': {                        # –í–∏–¥–∂–µ—Ç —Ç–æ—Ä–≥–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                'enabled': True,
                'refresh_interval': 60,
                'size': 'medium',
                'position': {'x': 2, 'y': 0},
                'metrics': [
                    'trades_per_hour', 'trades_per_day', 'active_positions',
                    'pending_orders', 'position_size_avg', 'position_duration_avg'
                ],
                'charts': [
                    {
                        'type': 'line',
                        'title': '–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ —á–∞—Å–∞–º',
                        'data_source': 'trades_by_hour',
                        'x_axis': 'hour',
                        'y_axis': 'trade_count',
                        'color': '#f39c12'
                    }
                ],
                'filters': {                             # –§–∏–ª—å—Ç—Ä—ã
                    'time_range': True,                  # –í—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω
                    'trade_type': True,                  # –¢–∏–ø —Å–¥–µ–ª–æ–∫
                    'symbol': True                       # –°–∏–º–≤–æ–ª
                }
            },
            'risk_metrics': {                            # –í–∏–¥–∂–µ—Ç –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞
                'enabled': True,
                'refresh_interval': 60,
                'size': 'large',
                'position': {'x': 2, 'y': 1},
                'metrics': [
                    'max_drawdown', 'sharpe_ratio', 'var_95', 'var_99',
                    'expected_shortfall', 'current_exposure', 'risk_utilization'
                ],
                'charts': [
                    {
                        'type': 'line',
                        'title': '–ü—Ä–æ—Å–∞–¥–∫–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–∏',
                        'data_source': 'drawdown_history',
                        'x_axis': 'timestamp',
                        'y_axis': 'drawdown',
                        'color': '#e74c3c',
                        'fill': True,
                        'threshold_line': -0.1
                    },
                    {
                        'type': 'gauge',
                        'title': '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∏—Å–∫–∞',
                        'data_source': 'risk_utilization',
                        'min': 0,
                        'max': 1,
                        'thresholds': [0.5, 0.8, 0.9],
                        'colors': ['#2ecc71', '#f39c12', '#e74c3c']
                    }
                ],
                'alerts': {
                    'max_drawdown': {'threshold': -0.1, 'color': 'critical'},
                    'risk_utilization': {'threshold': 0.8, 'color': 'warning'}
                }
            },
            'system_health': {                           # –í–∏–¥–∂–µ—Ç –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
                'enabled': True,
                'refresh_interval': 30,
                'size': 'medium',
                'position': {'x': 0, 'y': 2},
                'metrics': [
                    'cpu_usage', 'memory_usage', 'disk_usage', 'network_latency',
                    'api_calls_per_minute', 'error_rate', 'response_time_avg'
                ],
                'charts': [
                    {
                        'type': 'gauge',
                        'title': '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤',
                        'data_source': 'resource_usage',
                        'min': 0,
                        'max': 100,
                        'thresholds': [50, 80, 90],
                        'colors': ['#2ecc71', '#f39c12', '#e74c3c']
                    }
                ],
                'alerts': {
                    'cpu_usage': {'threshold': 80, 'color': 'warning'},
                    'memory_usage': {'threshold': 80, 'color': 'warning'},
                    'error_rate': {'threshold': 0.05, 'color': 'critical'}
                }
            },
            'model_metrics': {                           # –í–∏–¥–∂–µ—Ç –º–µ—Ç—Ä–∏–∫ –º–æ–¥–µ–ª–∏
                'enabled': True,
                'refresh_interval': 120,
                'size': 'medium',
                'position': {'x': 1, 'y': 2},
                'metrics': [
                    'model_accuracy', 'model_precision', 'model_recall', 'model_f1_score',
                    'model_auc', 'prediction_confidence', 'model_drift_detected', 'drift_score'
                ],
                'charts': [
                    {
                        'type': 'line',
                        'title': '–¢–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–∏',
                        'data_source': 'accuracy_history',
                        'x_axis': 'timestamp',
                        'y_axis': 'accuracy',
                        'color': '#9b59b6'
                    }
                ],
                'alerts': {
                    'model_accuracy': {'threshold': 0.7, 'color': 'warning'},
                    'drift_score': {'threshold': 0.1, 'color': 'warning'}
                }
            },
            'market_conditions': {                       # –í–∏–¥–∂–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
                'enabled': True,
                'refresh_interval': 60,
                'size': 'medium',
                'position': {'x': 2, 'y': 2},
                'metrics': [
                    'market_volatility', 'market_trend', 'market_regime',
                    'liquidity_score', 'price_change_1h', 'price_change_24h',
                    'volume_24h', 'rsi', 'macd'
                ],
                'charts': [
                    {
                        'type': 'line',
                        'title': '–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞',
                        'data_source': 'volatility_history',
                        'x_axis': 'timestamp',
                        'y_axis': 'volatility',
                        'color': '#e67e22'
                    }
                ]
            }
        }
    
    def start(self):
        """–ó–∞–ø—É—Å–∫ –¥–∞—à–±–æ—Ä–¥–∞"""
        if not self.is_running:
            self.is_running = True
            self.refresh_thread = threading.Thread(target=self._refresh_loop)
            self.refresh_thread.daemon = True
            self.refresh_thread.start()
            print("‚úÖ –î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞–ø—É—â–µ–Ω")
    
    def stop(self):
        """–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞"""
        self.is_running = False
        if self.refresh_thread:
            self.refresh_thread.join()
        print("‚èπÔ∏è –î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
    
    def is_running(self):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–±–æ—Ç—ã"""
        return self.is_running
    
    def _refresh_loop(self):
        """–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–∞"""
        while self.is_running:
            try:
                # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–∞—à–±–æ—Ä–¥–∞
                self.update_dashboard_data()
                
                # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–æ–≤
                self.update_widgets()
                
                # –û–∂–∏–¥–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
                time.sleep(self.refresh_interval)
                
            except Exception as e:
                print(f"‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–∞: {e}")
                time.sleep(5)  # –ö–æ—Ä–æ—Ç–∫–∞—è –ø–∞—É–∑–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ
    
    def create_dashboard(self):
        """–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞"""
        
        # –û—Å–Ω–æ–≤–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã
        self.widgets = {
            'overview': self.create_overview_widget(),
            'performance': self.create_performance_widget(),
            'trading_activity': self.create_trading_activity_widget(),
            'risk_metrics': self.create_risk_metrics_widget(),
            'system_health': self.create_system_health_widget(),
            'model_metrics': self.create_model_metrics_widget(),
            'market_conditions': self.create_market_conditions_widget()
        }
        
        return self.widgets
    
    def create_overview_widget(self):
        """–í–∏–¥–∂–µ—Ç –æ–±–∑–æ—Ä–∞"""
        
        return {
            'type': 'overview',
            'title': '–û–±—â–∏–π –æ–±–∑–æ—Ä',
            'metrics': [
                {'name': 'P&L', 'value': 'profit_loss', 'format': 'currency'},
                {'name': 'Win Rate', 'value': 'win_rate', 'format': 'percentage'},
                {'name': '–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π', 'value': 'active_positions', 'format': 'number'},
                {'name': '–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã', 'value': 'uptime', 'format': 'duration'},
                {'name': '–°—Ç–∞—Ç—É—Å', 'value': 'status', 'format': 'status'}
            ]
        }
    
    def create_performance_widget(self):
        """–í–∏–¥–∂–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"""
        
        return {
            'type': 'performance',
            'title': '–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
            'charts': [
                {
                    'type': 'line',
                    'title': 'P&L –≤–æ –≤—Ä–µ–º–µ–Ω–∏',
                    'data': 'profit_loss_history',
                    'x_axis': 'timestamp',
                    'y_axis': 'profit_loss'
                },
                {
                    'type': 'bar',
                    'title': '–°–¥–µ–ª–∫–∏ –ø–æ –¥–Ω—è–º',
                    'data': 'trades_by_day',
                    'x_axis': 'date',
                    'y_axis': 'trade_count'
                },
                {
                    'type': 'pie',
                    'title': '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫',
                    'data': 'trade_distribution',
                    'labels': ['–í—ã–∏–≥—Ä—ã—à–Ω—ã–µ', '–ü—Ä–æ–∏–≥—Ä—ã—à–Ω—ã–µ'],
                    'values': ['winning_trades', 'losing_trades']
                }
            ]
        }
    
    def create_risk_metrics_widget(self):
        """–í–∏–¥–∂–µ—Ç –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞"""
        
        return {
            'type': 'risk_metrics',
            'title': '–ú–µ—Ç—Ä–∏–∫–∏ —Ä–∏—Å–∫–∞',
            'metrics': [
                {'name': '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞', 'value': 'max_drawdown', 'format': 'percentage'},
                {'name': 'Sharpe Ratio', 'value': 'sharpe_ratio', 'format': 'number'},
                {'name': 'VaR 95%', 'value': 'var_95', 'format': 'currency'},
                {'name': '–¢–µ–∫—É—â–∞—è —ç–∫—Å–ø–æ–∑–∏—Ü–∏—è', 'value': 'current_exposure', 'format': 'currency'},
                {'name': '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∏—Å–∫–∞', 'value': 'risk_utilization', 'format': 'percentage'}
            ],
            'charts': [
                {
                    'type': 'line',
                    'title': '–ü—Ä–æ—Å–∞–¥–∫–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–∏',
                    'data': 'drawdown_history',
                    'x_axis': 'timestamp',
                    'y_axis': 'drawdown'
                }
            ]
        }
    
    def create_system_health_widget(self):
        """–í–∏–¥–∂–µ—Ç –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã"""
        
        return {
            'type': 'system_health',
            'title': '–ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã',
            'metrics': [
                {'name': 'CPU', 'value': 'cpu_usage', 'format': 'percentage'},
                {'name': '–ü–∞–º—è—Ç—å', 'value': 'memory_usage', 'format': 'percentage'},
                {'name': '–î–∏—Å–∫', 'value': 'disk_usage', 'format': 'percentage'},
                {'name': '–ó–∞–¥–µ—Ä–∂–∫–∞ —Å–µ—Ç–∏', 'value': 'network_latency', 'format': 'duration'},
                {'name': '–û—à–∏–±–∫–∏ API', 'value': 'error_rate', 'format': 'percentage'}
            ],
            'charts': [
                {
                    'type': 'gauge',
                    'title': '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤',
                    'data': 'resource_usage',
                    'max_value': 100
                }
            ]
        }
```

### 5. –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

```python
class LogAnalyzer:
    """–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ª–æ–≥–æ–≤"""
    
    def __init__(self):
        self.log_patterns = {}
        self.error_patterns = {}
        self.performance_patterns = {}
    
    def analyze_logs(self, log_file):
        """–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤"""
        
        analysis_results = {
            'errors': self.analyze_errors(log_file),
            'performance_issues': self.analyze_performance_issues(log_file),
            'trading_patterns': self.analyze_trading_patterns(log_file),
            'system_issues': self.analyze_system_issues(log_file)
        }
        
        return analysis_results
    
    def analyze_errors(self, log_file):
        """–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫"""
        
        error_patterns = [
            r'ERROR: (.+)',
            r'EXCEPTION: (.+)',
            r'CRITICAL: (.+)',
            r'Failed to (.+)',
            r'Connection error: (.+)',
            r'API error: (.+)'
        ]
        
        errors = []
        
        with open(log_file, 'r') as f:
            for line_num, line in enumerate(f, 1):
                for pattern in error_patterns:
                    match = re.search(pattern, line)
                    if match:
                        errors.append({
                            'line': line_num,
                            'error': match.group(1),
                            'timestamp': self.extract_timestamp(line),
                            'severity': self.classify_error_severity(match.group(1))
                        })
        
        return errors
    
    def analyze_performance_issues(self, log_file):
        """–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"""
        
        performance_patterns = [
            r'Slow operation: (.+) took (\d+)ms',
            r'High memory usage: (\d+)MB',
            r'CPU spike detected: (\d+)%',
            r'Network timeout: (.+)',
            r'Database slow query: (.+)'
        ]
        
        performance_issues = []
        
        with open(log_file, 'r') as f:
            for line_num, line in enumerate(f, 1):
                for pattern in performance_patterns:
                    match = re.search(pattern, line)
                    if match:
                        performance_issues.append({
                            'line': line_num,
                            'issue': match.group(1),
                            'value': match.group(2) if len(match.groups()) > 1 else None,
                            'timestamp': self.extract_timestamp(line)
                        })
        
        return performance_issues
    
    def analyze_trading_patterns(self, log_file):
        """–ê–Ω–∞–ª–∏–∑ —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"""
        
        trading_patterns = [
            r'Trade executed: (.+)',
            r'Order placed: (.+)',
            r'Position opened: (.+)',
            r'Position closed: (.+)',
            r'Stop loss triggered: (.+)',
            r'Take profit triggered: (.+)'
        ]
        
        trading_events = []
        
        with open(log_file, 'r') as f:
            for line_num, line in enumerate(f, 1):
                for pattern in trading_patterns:
                    match = re.search(pattern, line)
                    if match:
                        trading_events.append({
                            'line': line_num,
                            'event': match.group(1),
                            'timestamp': self.extract_timestamp(line),
                            'type': self.classify_trading_event(match.group(1))
                        })
        
        return trading_events
```

### 6. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
class PerformanceTracker:
    """–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"""
    
    def __init__(self):
        self.performance_metrics = {}
        self.benchmarks = {}
        self.optimization_suggestions = {}
    
    def track_performance(self, metrics):
        """–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"""
        
        # –†–∞—Å—á–µ—Ç –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫
        performance_score = self.calculate_performance_score(metrics)
        
        # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±–µ–Ω—á–º–∞—Ä–∫–∞–º–∏
        benchmark_comparison = self.compare_with_benchmarks(metrics)
        
        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
        optimization_suggestions = self.generate_optimization_suggestions(metrics)
        
        return {
            'performance_score': performance_score,
            'benchmark_comparison': benchmark_comparison,
            'optimization_suggestions': optimization_suggestions,
            'timestamp': datetime.now().isoformat()
        }
    
    def calculate_performance_score(self, metrics):
        """–†–∞—Å—á–µ—Ç –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"""
        
        # –í–µ—Å–∞ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
        weights = {
            'win_rate': 0.25,
            'sharpe_ratio': 0.20,
            'max_drawdown': 0.15,
            'profit_loss': 0.15,
            'trades_per_hour': 0.10,
            'error_rate': 0.10,
            'uptime': 0.05
        }
        
        # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
        normalized_metrics = self.normalize_metrics(metrics)
        
        # –†–∞—Å—á–µ—Ç –≤–∑–≤–µ—à–µ–Ω–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
        performance_score = sum(
            normalized_metrics[metric] * weight 
            for metric, weight in weights.items()
        )
        
        return performance_score
    
    def generate_optimization_suggestions(self, metrics):
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"""
        
        suggestions = []
        
        # –ê–Ω–∞–ª–∏–∑ win rate
        if metrics.get('win_rate', 0) < 0.5:
            suggestions.append({
                'category': 'trading_strategy',
                'priority': 'high',
                'suggestion': '–ù–∏–∑–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä —Ç–æ—Ä–≥–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.',
                'action': 'analyze_losing_trades'
            })
        
        # –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Å–∞–¥–∫–∏
        if metrics.get('max_drawdown', 0) > 0.1:
            suggestions.append({
                'category': 'risk_management',
                'priority': 'high',
                'suggestion': '–í—ã—Å–æ–∫–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞. –£–ª—É—á—à–∏—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏.',
                'action': 'reduce_position_sizes'
            })
        
        # –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫
        if metrics.get('error_rate', 0) > 0.02:
            suggestions.append({
                'category': 'system_stability',
                'priority': 'medium',
                'suggestion': '–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –æ—à–∏–±–æ–∫. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.',
                'action': 'review_error_logs'
            })
        
        # –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        if metrics.get('trades_per_hour', 0) < 1:
            suggestions.append({
                'category': 'trading_activity',
                'priority': 'low',
                'suggestion': '–ù–∏–∑–∫–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å–ª–æ–≤–∏—è –≤—Ö–æ–¥–∞.',
                'action': 'review_entry_conditions'
            })
        
        return suggestions
```

### 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã

### üè• –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã

```mermaid
graph TD
    A[–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞] --> B[–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è]
    
    B --> C[–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞]
    B --> D[–ü—Ä–æ–≤–µ—Ä–∫–∞ API]
    B --> E[–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏]
    B --> F[–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö]
    B --> G[–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤]
    B --> H[–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏]
    
    C --> C1{–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç?}
    C1 -->|–î–∞| C2[–°—Ç–∞—Ç—É—Å: Healthy]
    C1 -->|–ù–µ—Ç| C3[–°—Ç–∞—Ç—É—Å: Unhealthy]
    
    D --> D1{API –¥–æ—Å—Ç—É–ø–µ–Ω?}
    D1 -->|–î–∞| D2[–°—Ç–∞—Ç—É—Å: Healthy]
    D1 -->|–ù–µ—Ç| D3[–°—Ç–∞—Ç—É—Å: Unhealthy]
    
    E --> E1{–ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞?}
    E1 -->|–î–∞| E2[–°—Ç–∞—Ç—É—Å: Healthy]
    E1 -->|–ù–µ—Ç| E3[–°—Ç–∞—Ç—É—Å: Unhealthy]
    
    F --> F1{–î–∞–Ω–Ω—ã–µ —Å–≤–µ–∂–∏–µ?}
    F1 -->|–î–∞| F2[–°—Ç–∞—Ç—É—Å: Healthy]
    F1 -->|–ù–µ—Ç| F3[–°—Ç–∞—Ç—É—Å: Unhealthy]
    
    G --> G1{–†–µ—Å—É—Ä—Å—ã –≤ –Ω–æ—Ä–º–µ?}
    G1 -->|–î–∞| G2[–°—Ç–∞—Ç—É—Å: Healthy]
    G1 -->|–ù–µ—Ç| G3[–°—Ç–∞—Ç—É—Å: Unhealthy]
    
    H --> H1{–°–µ—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–∞?}
    H1 -->|–î–∞| H2[–°—Ç–∞—Ç—É—Å: Healthy]
    H1 -->|–ù–µ—Ç| H3[–°—Ç–∞—Ç—É—Å: Unhealthy]
    
    C2 --> I[–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å]
    C3 --> I
    D2 --> I
    D3 --> I
    E2 --> I
    E3 --> I
    F2 --> I
    F3 --> I
    G2 --> I
    G3 --> I
    H2 --> I
    H3 --> I
    
    I --> J{–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã?}
    J -->|–î–∞| K[–°—Ç–∞—Ç—É—Å: Healthy]
    J -->|–ù–µ—Ç| L[–°—Ç–∞—Ç—É—Å: Unhealthy]
    
    K --> M[–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É]
    L --> N[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤]
    N --> O[–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è]
    
    style A fill:#e3f2fd
    style K fill:#c8e6c9
    style L fill:#ffcdd2
    style M fill:#4caf50
    style N fill:#ff9800
```

```python
class HealthChecker:
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã"""
    
    def __init__(self):
        self.health_checks = {}
        self.health_status = {}
    
    def perform_health_checks(self, system_state):
        """–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∑–¥–æ—Ä–æ–≤—å—è"""
        
        health_checks = {
            'bot_running': self.check_bot_running(system_state),
            'api_connectivity': self.check_api_connectivity(system_state),
            'model_loaded': self.check_model_loaded(system_state),
            'data_freshness': self.check_data_freshness(system_state),
            'memory_usage': self.check_memory_usage(system_state),
            'disk_space': self.check_disk_space(system_state),
            'network_connectivity': self.check_network_connectivity(system_state)
        }
        
        # –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å –∑–¥–æ—Ä–æ–≤—å—è
        overall_health = self.calculate_overall_health(health_checks)
        
        return {
            'overall_health': overall_health,
            'individual_checks': health_checks,
            'timestamp': datetime.now().isoformat()
        }
    
    def check_bot_running(self, system_state):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞"""
        
        uptime = system_state.get('uptime', 0)
        last_activity = system_state.get('last_activity', 0)
        
        # –ë–æ—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞—é—â–∏–º, –µ—Å–ª–∏ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã > 0 –∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å < 5 –º–∏–Ω—É—Ç
        is_running = uptime > 0 and (time.time() - last_activity) < 300
        
        return {
            'status': 'healthy' if is_running else 'unhealthy',
            'message': '–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç' if is_running else '–ë–æ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç',
            'details': {
                'uptime': uptime,
                'last_activity': last_activity
            }
        }
    
    def check_api_connectivity(self, system_state):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API"""
        
        api_latency = system_state.get('api_latency', 0)
        api_error_rate = system_state.get('api_error_rate', 0)
        
        # API —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–¥–æ—Ä–æ–≤—ã–º, –µ—Å–ª–∏ –∑–∞–¥–µ—Ä–∂–∫–∞ < 1000ms –∏ –æ—à–∏–±–æ–∫ < 5%
        is_healthy = api_latency < 1000 and api_error_rate < 0.05
        
        return {
            'status': 'healthy' if is_healthy else 'unhealthy',
            'message': 'API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ' if is_healthy else '–ü—Ä–æ–±–ª–µ–º—ã —Å API',
            'details': {
                'latency': api_latency,
                'error_rate': api_error_rate
            }
        }
    
    def check_model_loaded(self, system_state):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏"""
        
        model_loaded = system_state.get('model_loaded', False)
        model_accuracy = system_state.get('model_accuracy', 0)
        
        # –ú–æ–¥–µ–ª—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–¥–æ—Ä–æ–≤–æ–π, –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ —Ç–æ—á–Ω–æ—Å—Ç—å > 0.7
        is_healthy = model_loaded and model_accuracy > 0.7
        
        return {
            'status': 'healthy' if is_healthy else 'unhealthy',
            'message': '–ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç' if is_healthy else '–ü—Ä–æ–±–ª–µ–º—ã —Å –º–æ–¥–µ–ª—å—é',
            'details': {
                'loaded': model_loaded,
                'accuracy': model_accuracy
            }
        }
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤

```python
class AlertBestPractices:
    """–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–ª–µ—Ä—Ç–æ–≤"""
    
    def __init__(self):
        self.alert_hierarchy = {}
        self.escalation_rules = {}
    
    def setup_alert_hierarchy(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∞–ª–µ—Ä—Ç–æ–≤"""
        
        self.alert_hierarchy = {
            'critical': {
                'response_time': 5,  # –º–∏–Ω—É—Ç
                'escalation_time': 15,  # –º–∏–Ω—É—Ç
                'channels': ['sms', 'phone', 'email', 'telegram'],
                'auto_actions': ['restart_bot', 'close_positions']
            },
            'warning': {
                'response_time': 30,  # –º–∏–Ω—É—Ç
                'escalation_time': 60,  # –º–∏–Ω—É—Ç
                'channels': ['email', 'telegram'],
                'auto_actions': ['log_issue', 'notify_admin']
            },
            'info': {
                'response_time': 120,  # –º–∏–Ω—É—Ç
                'escalation_time': 240,  # –º–∏–Ω—É—Ç
                'channels': ['telegram'],
                'auto_actions': ['log_event']
            }
        }
    
    def setup_escalation_rules(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª —ç—Å–∫–∞–ª–∞—Ü–∏–∏"""
        
        self.escalation_rules = {
            'no_response': {
                'condition': 'no_response_for_30_minutes',
                'action': 'escalate_to_manager',
                'channels': ['phone', 'sms']
            },
            'repeated_alerts': {
                'condition': 'same_alert_3_times_in_1_hour',
                'action': 'escalate_to_technical_lead',
                'channels': ['phone', 'email']
            },
            'system_down': {
                'condition': 'bot_down_for_10_minutes',
                'action': 'escalate_to_emergency_contact',
                'channels': ['phone', 'sms', 'email']
            }
        }
```

### 2. –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

```python
class LogRotation:
    """–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤"""
    
    def __init__(self):
        self.rotation_config = {}
        self.compression_config = {}
        self.retention_config = {}
    
    def setup_log_rotation(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤"""
        
        self.rotation_config = {
            'max_size': '100MB',
            'max_files': 10,
            'rotation_time': 'daily',
            'compression': True,
            'retention_days': 30
        }
    
    def rotate_logs(self, log_file):
        """–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤"""
        
        import shutil
        import gzip
        from datetime import datetime
        
        # –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
        timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
        backup_file = f"{log_file}.{timestamp}"
        shutil.copy2(log_file, backup_file)
        
        # –°–∂–∞—Ç–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –ª–æ–≥–∞
        if self.rotation_config['compression']:
            with open(backup_file, 'rb') as f_in:
                with gzip.open(f"{backup_file}.gz", 'wb') as f_out:
                    shutil.copyfileobj(f_in, f_out)
            os.remove(backup_file)
            backup_file = f"{backup_file}.gz"
        
        # –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ª–æ–≥–∞
        with open(log_file, 'w') as f:
            f.write('')
        
        # –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
        self.cleanup_old_logs(log_file)
        
        return backup_file
    
    def cleanup_old_logs(self, log_file):
        """–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤"""
        
        import glob
        import os
        from datetime import datetime, timedelta
        
        log_dir = os.path.dirname(log_file)
        log_pattern = f"{log_file}.*"
        
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ª–æ–≥–æ–≤
        log_files = glob.glob(log_pattern)
        
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É
        cutoff_date = datetime.now() - timedelta(days=self.retention_config['retention_days'])
        
        for file_path in log_files:
            file_time = datetime.fromtimestamp(os.path.getctime(file_path))
            if file_time < cutoff_date:
                os.remove(file_path)
```

### 3. –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### üìà SLA –º–µ—Ç—Ä–∏–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```mermaid
graph TD
    A[SLA –º–µ—Ç—Ä–∏–∫–∏] --> B[–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å]
    A --> C[–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞]
    A --> D[–ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫]
    A --> E[–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å]
    A --> F[–°–≤–µ–∂–µ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö]
    A --> G[–¢–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏]
    
    B --> B1[–¶–µ–ª—å: 99.9%]
    B --> B2[–†–∞—Å—á–µ—Ç: uptime / total_time]
    B --> B3[–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É]
    
    C --> C1[P95: < 2000ms]
    C --> C2[P99: < 5000ms]
    C --> C3[–°—Ä–µ–¥–Ω–µ–µ: < 1000ms]
    
    D --> D1[–¶–µ–ª—å: < 0.1%]
    D --> D2[–†–∞—Å—á–µ—Ç: errors / total_requests]
    D --> D3[–¢–∏–ø—ã –æ—à–∏–±–æ–∫: API, —Å–µ—Ç—å, –ª–æ–≥–∏–∫–∞]
    
    E --> E1[–¶–µ–ª—å: 100 RPS]
    E --> E2[–†–∞—Å—á–µ—Ç: requests_per_second]
    E --> E3[–ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: 200 RPS]
    
    F --> F1[–¶–µ–ª—å: < 5 –º–∏–Ω—É—Ç]
    F --> F2[–†–∞—Å—á–µ—Ç: current_time - last_update]
    F --> F3[–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏]
    
    G --> G1[–¶–µ–ª—å: > 80%]
    G --> G2[–†–∞—Å—á–µ—Ç: correct_predictions / total]
    G --> G3[–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥—Ä–∏—Ñ—Ç–∞]
    
    B1 --> H[–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ SLA]
    B2 --> H
    B3 --> H
    C1 --> H
    C2 --> H
    C3 --> H
    D1 --> H
    D2 --> H
    D3 --> H
    E1 --> H
    E2 --> H
    E3 --> H
    F1 --> H
    F2 --> H
    F3 --> H
    G1 --> H
    G2 --> H
    G3 --> H
    
    H --> I{–í—Å–µ SLA —Å–æ–±–ª—é–¥–µ–Ω—ã?}
    I -->|–î–∞| J[–°—Ç–∞—Ç—É—Å: Green]
    I -->|–ù–µ—Ç| K[–°—Ç–∞—Ç—É—Å: Red]
    
    J --> L[–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É]
    K --> M[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤]
    M --> N[–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è]
    
    style A fill:#e3f2fd
    style H fill:#c8e6c9
    style J fill:#4caf50
    style K fill:#f44336
    style M fill:#ff9800
```

```python
class PerformanceMetrics:
    """–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"""
    
    def __init__(self):
        self.metrics_definitions = {}
        self.benchmarks = {}
        self.sla_targets = {}
    
    def define_metrics(self):
        """–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫"""
        
        self.metrics_definitions = {
            'availability': {
                'description': '–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã',
                'calculation': 'uptime / total_time',
                'target': 0.999,  # 99.9%
                'unit': 'percentage'
            },
            'response_time': {
                'description': '–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞',
                'calculation': 'average_response_time',
                'target': 1000,  # 1 —Å–µ–∫—É–Ω–¥–∞
                'unit': 'milliseconds'
            },
            'error_rate': {
                'description': '–ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫',
                'calculation': 'errors / total_requests',
                'target': 0.001,  # 0.1%
                'unit': 'percentage'
            },
            'throughput': {
                'description': '–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å',
                'calculation': 'requests_per_second',
                'target': 100,  # 100 RPS
                'unit': 'requests_per_second'
            }
        }
    
    def setup_sla_targets(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SLA —Ü–µ–ª–µ–π"""
        
        self.sla_targets = {
            'availability': 0.999,  # 99.9%
            'response_time_p95': 2000,  # 2 —Å–µ–∫—É–Ω–¥—ã
            'response_time_p99': 5000,  # 5 —Å–µ–∫—É–Ω–¥
            'error_rate': 0.001,  # 0.1%
            'data_freshness': 300,  # 5 –º–∏–Ω—É—Ç
            'model_accuracy': 0.8  # 80%
        }
    
    def calculate_sla_compliance(self, metrics):
        """–†–∞—Å—á–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è SLA"""
        
        compliance = {}
        
        for metric, target in self.sla_targets.items():
            current_value = metrics.get(metric, 0)
            
            if metric in ['availability', 'model_accuracy']:
                # –î–ª—è –º–µ—Ç—Ä–∏–∫ "–±–æ–ª—å—à–µ –ª—É—á—à–µ"
                compliance[metric] = current_value >= target
            else:
                # –î–ª—è –º–µ—Ç—Ä–∏–∫ "–º–µ–Ω—å—à–µ –ª—É—á—à–µ"
                compliance[metric] = current_value <= target
        
        # –û–±—â–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ SLA
        overall_compliance = all(compliance.values())
        
        return {
            'overall_compliance': overall_compliance,
            'individual_compliance': compliance,
            'sla_score': sum(compliance.values()) / len(compliance)
        }
```

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

### ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```mermaid
graph TD
    A[–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã] --> B{–¢–∏–ø –ø—Ä–æ–±–ª–µ–º—ã}
    
    B -->|–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è| C[–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è]
    B -->|–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ| D[–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è]
    B -->|–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è| E[–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è]
    
    C --> C1[–ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω > 5 –º–∏–Ω]
    C --> C2[–ü—Ä–æ—Å–∞–¥–∫–∞ > 10%]
    C --> C3[–û—à–∏–±–∫–∏ API > 5%]
    
    D --> D1[–ù–∏–∑–∫–∏–π Win Rate]
    D --> D2[–î—Ä–∏—Ñ—Ç –º–æ–¥–µ–ª–∏]
    D --> D3[–í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞]
    
    E --> E1[–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç]
    E --> E2[–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π]
    E --> E3[–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã]
    
    C1 --> F[–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞]
    C2 --> G[–ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π]
    C3 --> H[–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ API]
    
    D1 --> I[–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫]
    D2 --> J[–ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏]
    D3 --> K[–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∏]
    
    E1 --> L[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞]
    E2 --> M[–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏]
    E3 --> N[–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞]
    
    F --> O[–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞]
    G --> O
    H --> O
    I --> O
    J --> O
    K --> O
    L --> O
    M --> O
    N --> O
    
    O --> P{–î–µ–π—Å—Ç–≤–∏–µ —É—Å–ø–µ—à–Ω–æ?}
    P -->|–î–∞| Q[–ó–∞–ø–∏—Å—å –≤ –ª–æ–≥]
    P -->|–ù–µ—Ç| R[–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞]
    
    R --> S{–ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫?}
    S -->|–ù–µ—Ç| T[–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ]
    S -->|–î–∞| U[–≠—Å–∫–∞–ª–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã]
    
    T --> O
    U --> V[–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞]
    
    Q --> W[–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥]
    V --> W
    
    style A fill:#e3f2fd
    style C fill:#ffcdd2
    style D fill:#fff3e0
    style E fill:#e8f5e8
    style Q fill:#c8e6c9
    style U fill:#ff5252
```

```python
class AutomatedActions:
    """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è"""
    
    def __init__(self):
        self.action_rules = {}
        self.action_history = []
    
    def setup_automated_actions(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π"""
        
        self.action_rules = {
            'restart_bot': {
                'trigger': 'bot_down_for_5_minutes',
                'action': self.restart_bot,
                'max_attempts': 3,
                'cooldown': 300  # 5 –º–∏–Ω—É—Ç
            },
            'close_all_positions': {
                'trigger': 'max_drawdown_exceeded',
                'action': self.close_all_positions,
                'max_attempts': 1,
                'cooldown': 0
            },
            'reduce_position_sizes': {
                'trigger': 'high_volatility_detected',
                'action': self.reduce_position_sizes,
                'max_attempts': 5,
                'cooldown': 3600  # 1 —á–∞—Å
            },
            'retrain_model': {
                'trigger': 'model_drift_detected',
                'action': self.retrain_model,
                'max_attempts': 1,
                'cooldown': 86400  # 24 —á–∞—Å–∞
            }
        }
    
    def execute_automated_action(self, action_name, trigger_data):
        """–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è"""
        
        if action_name not in self.action_rules:
            return False
        
        rule = self.action_rules[action_name]
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞
        if self.is_action_in_cooldown(action_name):
            return False
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ø—ã—Ç–æ–∫
        if self.get_action_attempts(action_name) >= rule['max_attempts']:
            return False
        
        try:
            # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
            result = rule['action'](trigger_data)
            
            # –ó–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é
            self.action_history.append({
                'timestamp': datetime.now().isoformat(),
                'action': action_name,
                'trigger': trigger_data,
                'result': result,
                'success': result.get('success', False)
            })
            
            # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞
            if result.get('success', False):
                self.set_action_cooldown(action_name, rule['cooldown'])
            
            return result
            
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è {action_name}: {e}")
            return {'success': False, 'error': str(e)}
    
    def restart_bot(self, trigger_data):
        """–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞"""
        
        try:
            # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
            self.stop_bot()
            
            # –û–∂–∏–¥–∞–Ω–∏–µ
            time.sleep(10)
            
            # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
            self.start_bot()
            
            return {'success': True, 'message': '–ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω'}
            
        except Exception as e:
            return {'success': False, 'error': str(e)}
    
    def close_all_positions(self, trigger_data):
        """–ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π"""
        
        try:
            # –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
            active_positions = self.get_active_positions()
            
            # –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π
            closed_positions = []
            for position in active_positions:
                result = self.close_position(position['id'])
                if result['success']:
                    closed_positions.append(position['id'])
            
            return {
                'success': True, 
                'message': f'–ó–∞–∫—Ä—ã—Ç–æ –ø–æ–∑–∏—Ü–∏–π: {len(closed_positions)}',
                'closed_positions': closed_positions
            }
            
        except Exception as e:
            return {'success': False, 'error': str(e)}
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

### üîó –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```mermaid
graph TD
    A[–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞] --> B[–í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏]
    
    B --> C[Prometheus]
    B --> D[Grafana]
    B --> E[Datadog]
    B --> F[New Relic]
    B --> G[Webhooks]
    
    C --> C1[–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫]
    C --> C2[–•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤]
    C --> C3[HTTP endpoint: :8000]
    C --> C4[–ú–µ—Ç—Ä–∏–∫–∏: trades_total, profit_loss]
    
    D --> D1[–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è]
    D --> D2[–î–∞—à–±–æ—Ä–¥—ã]
    D --> D3[–ê–ª–µ—Ä—Ç—ã]
    D --> D4[–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö: Prometheus]
    
    E --> E1[APM –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥]
    E --> E2[–õ–æ–≥–∏ –∏ —Ç—Ä–µ–π—Å–∏–Ω–≥]
    E --> E3[–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏]
    E --> E4[–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å–æ–±—ã—Ç–∏–π]
    
    F --> F1[Application Performance]
    F --> F2[Infrastructure Monitoring]
    F --> F3[Error Tracking]
    F --> F4[Custom Dashboards]
    
    G --> G1[–¢–æ—Ä–≥–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è]
    G --> G2[–°–∏—Å—Ç–µ–º–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã]
    G --> G3[–û—Ç—á–µ—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏]
    G --> G4[–í–Ω–µ—à–Ω–∏–µ API]
    
    C1 --> H[–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥]
    C2 --> H
    C3 --> H
    C4 --> H
    D1 --> H
    D2 --> H
    D3 --> H
    D4 --> H
    E1 --> H
    E2 --> H
    E3 --> H
    E4 --> H
    F1 --> H
    F2 --> H
    F3 --> H
    F4 --> H
    G1 --> H
    G2 --> H
    G3 --> H
    G4 --> H
    
    H --> I[–ï–¥–∏–Ω–∞—è –ø–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞]
    I --> J[–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑]
    J --> K[–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ]
    
    style A fill:#e3f2fd
    style B fill:#c8e6c9
    style H fill:#fff3e0
    style I fill:#e8f5e8
```

```python
class ExternalIntegrations:
    """–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏"""
    
    def __init__(self):
        self.integrations = {}
        self.webhook_endpoints = {}
    
    def setup_integrations(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π"""
        
        self.integrations = {
            'prometheus': self.setup_prometheus_integration(),
            'grafana': self.setup_grafana_integration(),
            'datadog': self.setup_datadog_integration(),
            'new_relic': self.setup_new_relic_integration(),
            'webhooks': self.setup_webhook_integration()
        }
    
    def setup_prometheus_integration(self):
        """–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prometheus"""
        
        from prometheus_client import Counter, Histogram, Gauge, start_http_server
        
        # –ú–µ—Ç—Ä–∏–∫–∏
        self.prometheus_metrics = {
            'trades_total': Counter('trading_bot_trades_total', 'Total number of trades'),
            'profit_loss': Gauge('trading_bot_profit_loss', 'Current profit/loss'),
            'win_rate': Gauge('trading_bot_win_rate', 'Current win rate'),
            'response_time': Histogram('trading_bot_response_time', 'Response time'),
            'error_rate': Gauge('trading_bot_error_rate', 'Current error rate')
        }
        
        # –ó–∞–ø—É—Å–∫ HTTP —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –º–µ—Ç—Ä–∏–∫
        start_http_server(8000)
        
        return True
    
    def setup_grafana_integration(self):
        """–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Grafana"""
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞ Grafana
        grafana_config = {
            'datasource': 'prometheus',
            'dashboard_url': 'http://grafana:3000/d/trading-bot',
            'panels': [
                {
                    'title': 'Trading Performance',
                    'type': 'graph',
                    'targets': [
                        'trading_bot_profit_loss',
                        'trading_bot_win_rate'
                    ]
                },
                {
                    'title': 'System Health',
                    'type': 'singlestat',
                    'targets': [
                        'trading_bot_error_rate'
                    ]
                }
            ]
        }
        
        return grafana_config
    
    def setup_webhook_integration(self):
        """–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å webhooks"""
        
        self.webhook_endpoints = {
            'trading_events': 'https://api.example.com/webhooks/trading',
            'system_alerts': 'https://api.example.com/webhooks/alerts',
            'performance_reports': 'https://api.example.com/webhooks/performance'
        }
        
        return True
    
    def send_webhook(self, endpoint, data):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ webhook"""
        
        import requests
        
        if endpoint not in self.webhook_endpoints:
            return False
        
        url = self.webhook_endpoints[endpoint]
        
        try:
            response = requests.post(url, json=data, timeout=10)
            return response.status_code == 200
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ webhook: {e}")
            return False
```

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### üìä –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ | –î–∏–∞–ø–∞–∑–æ–Ω/–í–ª–∏—è–Ω–∏–µ |
|-----------|----------|----------------------|----------|------------------|
| **–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** | | | | |
| | `metrics_interval` | 60 —Å–µ–∫ | –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ | 30-300 —Å–µ–∫ |
| | `alert_channels` | ['email', 'telegram'] | –ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | email, sms, telegram, slack |
| | `dashboard_refresh` | 30 —Å–µ–∫ | –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–∞ | 10-120 —Å–µ–∫ |
| | `health_check_interval` | 300 —Å–µ–∫ | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è | 60-600 —Å–µ–∫ |
| **–•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫** | | | | |
| | `storage_type` | 'influxdb' | –¢–∏–ø —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ | influxdb, prometheus, file |
| | `storage_host` | 'localhost' | –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö | IP –∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω |
| | `storage_port` | 8086 | –ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö | 1024-65535 |
| | `retention_policy` | '30d' | –ü–æ–ª–∏—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è | 1d-365d |
| | `batch_size` | 1000 | –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ | 100-10000 |
| | `flush_interval` | 5 —Å–µ–∫ | –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±—Ä–æ—Å–∞ | 1-60 —Å–µ–∫ |
| **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Ä–æ–≥–∏** | | | | |
| | `bot_down_time` | 300 —Å–µ–∫ | –í—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è –±–æ—Ç–∞ | 60-1800 —Å–µ–∫ |
| | `max_drawdown` | 0.1 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ | 0.05-0.2 |
| | `error_rate` | 0.05 | –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫ | 0.01-0.1 |
| | `memory_usage` | 0.9 | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ | 0.7-0.95 |
| | `cpu_usage` | 0.95 | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU | 0.8-0.98 |
| | `api_response_time` | 5000 –º—Å | –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API | 1000-10000 –º—Å |
| | `data_freshness` | 600 —Å–µ–∫ | –°–≤–µ–∂–µ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö | 300-1800 —Å–µ–∫ |
| | `model_accuracy` | 0.5 | –¢–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ | 0.3-0.8 |
| | `network_latency` | 2000 –º—Å | –ó–∞–¥–µ—Ä–∂–∫–∞ —Å–µ—Ç–∏ | 500-5000 –º—Å |
| | `disk_usage` | 0.95 | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ | 0.8-0.98 |
| **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–µ –ø–æ—Ä–æ–≥–∏** | | | | |
| | `win_rate` | 0.4 | –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ | 0.3-0.6 |
| | `model_drift` | 0.1 | –î—Ä–∏—Ñ—Ç –º–æ–¥–µ–ª–∏ | 0.05-0.2 |
| | `trades_per_hour` | 0.1 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –≤ —á–∞—Å | 0.01-1.0 |
| | `prediction_confidence` | 0.6 | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π | 0.4-0.8 |
| | `data_quality_score` | 0.7 | –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö | 0.5-0.9 |
| **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏** | | | | |
| | `daily_pnl` | 1000 | –î–Ω–µ–≤–Ω–∞—è –ø—Ä–∏–±—ã–ª—å | 100-10000 |
| | `trades_count` | 50 | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ | 10-500 |
| | `uptime_hours` | 24 | –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (—á–∞—Å—ã) | 1-168 |
| | `weekly_pnl` | 5000 | –ù–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å | 1000-50000 |
| | `monthly_pnl` | 20000 | –ú–µ—Å—è—á–Ω–∞—è –ø—Ä–∏–±—ã–ª—å | 5000-200000 |
| | `sharpe_ratio` | 2.0 | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞ | 1.0-5.0 |
| | `max_consecutive_wins` | 10 | –ú–∞–∫—Å–∏–º—É–º –ø–æ–±–µ–¥ –ø–æ–¥—Ä—è–¥ | 5-50 |
| | `recovery_factor` | 2.0 | –§–∞–∫—Ç–æ—Ä –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è | 1.0-5.0 |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞** | | | | |
| | `theme` | 'dark' | –¢–µ–º–∞ –¥–∞—à–±–æ—Ä–¥–∞ | dark, light |
| | `layout` | 'grid' | –ú–∞–∫–µ—Ç | grid, list |
| | `auto_refresh` | True | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | True, False |
| | `data_retention` | 7 –¥–Ω–µ–π | –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö | 1-30 –¥–Ω–µ–π |
| **–†–∞–∑–º–µ—Ä—ã –≤–∏–¥–∂–µ—Ç–æ–≤** | | | | |
| | `small` | 1x1 | –ú–∞–ª–µ–Ω—å–∫–∏–π | 1x1 |
| | `medium` | 2x1 | –°—Ä–µ–¥–Ω–∏–π | 2x1 |
| | `large` | 2x2 | –ë–æ–ª—å—à–æ–π | 2x2 |
| | `xlarge` | 3x2 | –û—á–µ–Ω—å –±–æ–ª—å—à–æ–π | 3x2 |
| **–¶–≤–µ—Ç–∞ –∞–ª–µ—Ä—Ç–æ–≤** | | | | |
| | `critical` | '#e74c3c' | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (–∫—Ä–∞—Å–Ω—ã–π) | hex —Ü–≤–µ—Ç |
| | `warning` | '#f39c12' | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–æ—Ä–∞–Ω–∂–µ–≤—ã–π) | hex —Ü–≤–µ—Ç |
| | `info` | '#3498db' | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Å–∏–Ω–∏–π) | hex —Ü–≤–µ—Ç |
| | `success` | '#2ecc71' | –£—Å–ø–µ—Ö (–∑–µ–ª–µ–Ω—ã–π) | hex —Ü–≤–µ—Ç |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤** | | | | |
| | `max_size` | '100MB' | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | 10MB-1GB |
| | `max_files` | 10 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ | 5-100 |
| | `rotation_time` | 'daily' | –í—Ä–µ–º—è —Ä–æ—Ç–∞—Ü–∏–∏ | daily, weekly, monthly |
| | `compression` | True | –°–∂–∞—Ç–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤ | True, False |
| | `retention_days` | 30 | –•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ (–¥–Ω–∏) | 7-365 –¥–Ω–µ–π |
| **–ü—Ä–∞–≤–∏–ª–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏** | | | | |
| | `no_response` | 30 –º–∏–Ω | –ù–µ—Ç –æ—Ç–≤–µ—Ç–∞ | 15-120 –º–∏–Ω |
| | `repeated_alerts` | 3 —Ä–∞–∑–∞/—á–∞—Å | –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∞–ª–µ—Ä—Ç—ã | 2-10 —Ä–∞–∑/—á–∞—Å |
| | `system_down` | 10 –º–∏–Ω | –°–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | 5-30 –º–∏–Ω |
| | `critical_loss` | 15% | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Ç–µ—Ä–∏ | 10-25% |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** | | | | |
| | `enable_tracking` | True | –í–∫–ª—é—á–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ | True, False |
| | `tracking_interval` | 60 —Å–µ–∫ | –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è | 30-300 —Å–µ–∫ |
| | `metrics_retention` | 7 –¥–Ω–µ–π | –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ | 1-30 –¥–Ω–µ–π |
| | `benchmark_comparison` | True | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±–µ–Ω—á–º–∞—Ä–∫–∞–º–∏ | True, False |
| | `optimization_suggestions` | True | –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ | True, False |
| **–ë–µ–Ω—á–º–∞—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** | | | | |
| | `min_win_rate` | 0.5 | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ | 0.3-0.7 |
| | `max_drawdown` | 0.1 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ | 0.05-0.2 |
| | `min_sharpe_ratio` | 1.0 | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞ | 0.5-2.0 |
| | `min_trades_per_day` | 5 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å | 1-50 |
| | `max_response_time` | 1000 –º—Å | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | 500-5000 –º—Å |
| | `max_error_rate` | 0.01 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫ | 0.001-0.05 |
| | `min_uptime` | 0.99 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã | 0.95-0.999 |
| | `max_memory_usage` | 0.8 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ | 0.7-0.9 |
| | `min_accuracy` | 0.8 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å | 0.6-0.95 |
| | `max_drift` | 0.1 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –¥—Ä–∏—Ñ—Ç | 0.05-0.2 |
| | `min_confidence` | 0.7 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å | 0.5-0.9 |
| | `max_prediction_time` | 100 –º—Å | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è | 50-500 –º—Å |

### üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

#### –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Ä–æ–≥–∏ (bot_down_time, max_drawdown, error_rate)
- –í–∫–ª—é—á–∏—Ç–µ –±–∞–∑–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (email, telegram)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–∞—à–±–æ—Ä–¥–∞

#### –î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Å–µ –ø–æ—Ä–æ–≥–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≤–∞—à–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
- –î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (sms, slack)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–∞—à–±–æ—Ä–¥–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤–∏–¥–∂–µ—Ç–∞–º–∏

#### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ SLA
- –í–∫–ª—é—á–∏—Ç–µ –≤—Å–µ –∫–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Prometheus, Grafana)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –í–∫–ª—é—á–∏—Ç–µ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞ - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∞—Å–ø–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –∏ –ø—Ä–∏–±—ã–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. –°–ª–µ–¥—É—è –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º, –æ–ø–∏—Å–∞–Ω–Ω—ã–º –≤ —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ, –≤—ã —Å–º–æ–∂–µ—Ç–µ:

1. **–ë—ã—Å—Ç—Ä–æ –≤—ã—è–≤–ª—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã** - —Å –ø–æ–º–æ—â—å—é —Å–∏—Å—Ç–µ–º—ã –∞–ª–µ—Ä—Ç–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∑–¥–æ—Ä–æ–≤—å—è
2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
3. **–û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é —Ä–∞–±–æ—Ç—É** - —Å –ø–æ–º–æ—â—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏** - –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞

–ü–æ–º–Ω–∏—Ç–µ: —Ö–æ—Ä–æ—à–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - —ç—Ç–æ –∑–∞–ª–æ–≥ —É—Å–ø–µ—à–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã! üöÄ
